Replying to [comment:3 magarcia]:
> It would be great if you could provide details about an implementation of `apply` that benchmarks favorably on a range (ideally all) workloads. 

I'm not the original reporter, but the usual way to do this is to have an internal method that returns null instead of None. Then get can wrap it and there is no allocation in apply. A bit ugly, but that's the price of efficiency in this case.

Of course, if you want to support null keys, then it becomes a bit more complicated. See java.util.HashMap for how they do that. I'd say that supporting null keys in Maps is a bad idea and ConcurrentHashMap in Java does not support them.
