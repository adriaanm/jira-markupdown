Replying to [comment:1 rytz]:
> Hi,
> 
> I can't reproduce this problem, the compiler tells me, as expected, 
> 
> {code}
> error: Inner is already defined as class Inner
> }}

Well, you were too slow :) Bug SI-740 has been filed and fixed since I filed this bug, and apparently it was related as it seems to have fixed this issue as well.

Bug SI-740 talks about only doing a workaround though, and not a proper fix. Since this 6-liner test case easily reproduces the issue, it might make for a better/proper fix.

> 
> wit 2.7.1.RC1 and 2.7.1.r14650.

I get the same results as you with those versions. The issue is present is in 2.7.0-RC1 though, as well as in r14641 before it was worked around in r14642.
