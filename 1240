I just ran into the same problem again with some new code where it occurs *without* an if() guard but I wasn't able to reproduce it in a test case which is simple enough to post.
