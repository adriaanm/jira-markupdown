> fixed in r14145.
      if (self == null) null
      else


There's no need to allow null, the above can be omitted.

(null: String).capitalize  should IMHO give a Null Pointer Exception.
