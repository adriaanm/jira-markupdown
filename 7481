This was actually fixed in 2.11.0-M8 / scala/bug#5508. I've submitted a test case: https://github.com/scala/scala/pull/4120
