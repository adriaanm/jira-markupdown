patmat emits a switch with just a default case:

{code}
(x1: Int) match {
  case _ => if (x1.!=(-1)) 15 else17
}
{code}

That's enough to lead to an empty set of integer tags in the SWITCH in the icode tree, which trips the assertion in constant optimization.

We could change one or more of patmat, genicode, and constopt to improve the situation.
