(In r20624) Closes scala/bug#2653, scala/bug#2652, scala/bug#2556. The last one required more sophisticated mechanism for detecting invalid references to inherited members, but at least it doesn't seem to cause unnecessary recompilations. 
