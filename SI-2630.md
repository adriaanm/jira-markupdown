Trying to compile Lift with 2.8 Beta RC1 and get the following stack trace:

Caused by: java.lang.AssertionError: assertion failed: fatal: $$anon has owner value $$anonfun, but a class owner is required
	at scala.Predef$$.assert(Predef.scala:106)
	at scala.tools.nsc.symtab.Symbols$$ClassSymbol.name(Symbols.scala:1943)
	at scala.tools.nsc.symtab.Symbols$$Symbol.simpleName(Symbols.scala:1518)
	at scala.tools.nsc.symtab.Symbols$$Symbol.fullNameString(Symbols.scala:1578)
	at scala.tools.nsc.backend.jvm.GenJVM$$BytecodeGenerator.javaName(GenJVM.scala:1658)
	at scala.tools.nsc.backend.jvm.GenJVM$$BytecodeGenerator.javaType(GenJVM.scala:1740)
	at scala.tools.nsc.backend.jvm.GenJVM$$BytecodeGenerator.javaType(GenJVM.scala:1744)
	at scala.tools.nsc.backend.jvm.GenJVM$$BytecodeGenerator.genMethod(GenJVM.scala:564)
	at scala.tools.nsc.backend.jvm.GenJVM$$BytecodeGenerator$$$$anonfun$$genClass$$4.apply(GenJVM.scala:234)
	at scala.tools.nsc.backend.jvm.GenJVM$$BytecodeGenerator$$$$anonfun$$genClass$$4.apply(GenJVM.scala:234)
	at scala.collection.LinearSeqLike$$class.foreach(LinearSeqLike.scala:85)
	at scala.collection.immutable.List.foreach(List.scala:29)
	at scala.tools.nsc.backend.jvm.GenJVM$$BytecodeGenerator.genClass(GenJVM.scala:234)
	at scala.tools.nsc.backend.jvm.GenJVM$$JvmPhase.apply(GenJVM.scala:56)
	at scala.tools.nsc.backend.jvm.GenJVM$$JvmPhase$$$$anonfun$$run$$2.apply(GenJVM.scala:52)
	at scala.tools.nsc.backend.jvm.GenJVM$$JvmPhase$$$$anonfun$$run$$2.apply(GenJVM.scala:52)
	at scala.collection.Iterator$$class.foreach(Iterator.scala:534)
	at scala.collection.MapLike$$$$anon$$4.foreach(MapLike.scala:170)
	at scala.tools.nsc.backend.jvm.GenJVM$$JvmPhase.run(GenJVM.scala:52)
	at scala.tools.nsc.Global$$Run.compileSources(Global.scala:793)
	at scala.tools.nsc.Global$$Run.compile(Global.scala:878)
	at scala.tools.nsc.Main$$.process(Main.scala:109)
	at scala.tools.nsc.Main$$.main(Main.scala:123)
	at scala.tools.nsc.Main.main(Main.scala)


To reproduce:

Get the Lift source:
git clone git://github.com/dpp/liftweb.git

cd liftweb
git checkout -b 280_port origin/280_port
cd lift-base
mvn clean install

Note that during the byte-code emission phase of lift-webkit, the above exception appears.
OK, this is probably not in bytecode generation where the fault is, but it's that somewhere someone puts a wrong owner on a symbol. More specifically, it seems to be an anonymous class that refers to an enclosing anonymous function symbol, where instead it should refer to the class defining that anonymous function. Bytecode generation just detected the problem. It would be important to know exactly what code caused the error. Is it standard Scala code, or code that's generated by some framework? How is the generation done? Adriaan, could you try to reproduce this, instrumenting bytecode generation so that we get the whole ownerchain when we see the problem? Then we can take it from there, hopefully.

minimal testcase:

```scala
object Test {
  def meh(xs: List[Any]) {
    xs map { x =>  (new AnyRef {}) }
  }
}
```
```scala
fatal: $$anon has owner meh, but a class owner is required
owners: method meh.object Test.package <empty>.package <root>
```

note that it's the anonymous inner class `AnyRef{}` that triggers the assert
Note that #2484 trips the same assert, possibly a duplicate.
Excellent!

Can you tell me what line(s) in Lift are triggering this and if there's a work-around?

I'd like to get the code compiling/running so we can do substantive testing.

Thanks!

(and a huge thanks for being so responsive on a Saturday)
Determined to be a duplicate of #2484. Should be fixed now.
