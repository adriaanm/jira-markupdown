I should note that the key seems to be the extraction.  The original example doesn't even use case classes, but extractors.  And if I simplify my example even further to
```scala
  case class Foo
  case class Bar extends Foo

  (Bar : AnyRef) match {
    case Bar() => 0
    case Foo() => 1
  }
```
the crash goes away.
