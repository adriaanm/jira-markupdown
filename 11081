The symptom of this bug suggests that the macro in ScalaMock is producing trees in an inconsistent state (most likely, inconsistent symbol owner chains.)

https://github.com/paulbutcher/ScalaMock/blob/master/core/src/main/scala/org/scalamock/Mock.scala

Euguene recently presented a workshop on the finer points of this pitfall for macro authors: https://github.com/xeno-by/macrology201

I'm marking this as incomplete for now. Can I suggest that you report the bug against Scalamock instead. If @paulbutcher finds that there is a legitimate compiler bug behind this, please reopen.
