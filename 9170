Good catch, thanks!  I have very little time at the moment, could someone please review this patch?  For me at least it does the right thing:

defined class UnprefixedAttribute

scala> :paste
// Entering paste mode (ctrl-D to finish)

val a = new UnprefixedAttribute("a","3", Null)
val b = new UnprefixedAttribute("b","3", a)
val c = new UnprefixedAttribute("c","1", Null)
val d = new UnprefixedAttribute("d","5", c)

// Exiting paste mode, now interpreting.

a: UnprefixedAttribute =  a="3"
b: UnprefixedAttribute =  b="3" a="3"
c: UnprefixedAttribute =  c="1"
d: UnprefixedAttribute =  d="5" c="1"

scala> d.copy(b)
res1: UnprefixedAttribute =  d="5" c="1" b="3" a="3"
