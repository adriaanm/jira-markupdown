Here is a patch which fixes this and some related NaN ordering inconsistencies: https://github.com/szabolcsberecz/scala/commit/460bbc1276fb4ba83b9bcbdc7f7ba475b352b7c6
