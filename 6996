It's definitely not an infinite loop, here's some debugging output leading up to memory exhaustion:
{noformat}
[log typer] entered value x$3117 in value $anonfun, scope-id = 1574748867
[log typer] entered value x$3118 in value $anonfun, scope-id = 1051265169
[log typer] entered value x$3119 in value $anonfun, scope-id = 1732547741
[log typer] entered value x$3120 in value $anonfun, scope-id = 1178152283
[log typer] entered value x$3121 in value $anonfun, scope-id = 756119927
[log typer] entered value x$3122 in value $anonfun, scope-id = 563697245
{noformat}
The iterator code is correct (not sure how that's related to the topic at hand) as the part you summarized as "..." includes "&&".
