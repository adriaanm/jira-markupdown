The value at the end of a block can never be a top-level element in a package. Basically, filter on
{code}
scala> import PartialFunction.{ cond => when }
import PartialFunction.{cond=>when}

scala> def isTop(t: Tree) = when (t) { case _: ImplDef | _: Import => true }
isTop: (t: Tree)Boolean
{code}
Or for arbitrary trees, maybe you can get away with putting them in a package object.
