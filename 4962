(In r23679) Fixes an inconsistency in primitive hashcode calculation.
I did have a test trying to spot exactly this situation, which
says something about either me or about testing or about
me and testing.  Closes scala/bug#3957, no review.
