the desugared versions using map/flatMap/filter give the same errors, so it's not a problem with for specifically.

here's a simpler expression that gives the StackOverflowError:
```scala
Stream.from(1).flatMap(a => List(1)).head
```
