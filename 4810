I don't see the problems on trunk. I guess it was fixed?
```scala
scala> trait Y
defined trait Y

scala> abstract class X(x: Int) { self: Y => x }
defined class X

scala> scala> object X {
     |   val x: Int = 1
     |   trait Y
     |   abstract class XX(x: Int){ self: Y =>
     |     println(x)
     |   }
     |   new XX(2) with Y
     | }
defined module X
scala> X
1
res0: X.type = X$$@1df3082

Replaying 2 commands from interpreter transcript.
defined module X
2
res3: X.type = X$$@1e1370ab
```
