Previous attempt at this: https://github.com/scala/scala/pull/3992. Read all the way down through the comments and see https://github.com/scala/scala/commit/9f493c3840ce46d4e0646d3085bfd5c89615e6f6

In general, Scala's implicit search isn't defined for arbitrary Prolog-style solving, and trying to encode transitivity and reflexitivy rules tend to have hard to spot and harder to solve corner cases.

Related: scala/bug#4040 / scala/bug#5499
