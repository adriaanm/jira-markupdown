The following crashes both the 2.8 RC1 REPL and compiler:
```scala
object Y {
  class A
  def f: Function0[A] = () => { object X extends A; X }
}
```

scalac crash output is:
```scala
exception when traversing (() => {
  final class X extends Y.this.A with ScalaObject {
    def this(): object X = {
      X.super.this();
      ()
    }
  };
  var X$$module: object X = null;
  final <stable> def X: object X = {
    if (X$$module.eq(null))
      X$$module = new object X();
    X$$module
  };
  X
})
exception when traversing def f: () => Y.A = (() => {
  final class X extends Y.this.A with ScalaObject {
    def this(): object X = {
      X.super.this();
      ()
    }
  };
  var X$$module: object X = null;
  final <stable> def X: object X = {
    if (X$$module.eq(null))
      X$$module = new object X();
    X$$module
  };
  X
})
exception when traversing java.lang.Object with ScalaObject {
  def this(): object Y = {
    Y.super.this();
    ()
  };
  class A extends java.lang.Object with ScalaObject {
    def this(): Y.A = {
      A.super.this();
      ()
    }
  };
  def f: () => Y.A = (() => {
    final class X extends Y.this.A with ScalaObject {
      def this(): object X = {
        X.super.this();
        ()
      }
    };
    var X$$module: object X = null;
    final <stable> def X: object X = {
      if (X$$module.eq(null))
        X$$module = new object X();
      X$$module
    };
    X
  })
}
exception when traversing final class Y extends java.lang.Object with ScalaObject {
  def this(): object Y = {
    Y.super.this();
    ()
  };
  class A extends java.lang.Object with ScalaObject {
    def this(): Y.A = {
      A.super.this();
      ()
    }
  };
  def f: () => Y.A = (() => {
    final class X extends Y.this.A with ScalaObject {
      def this(): object X = {
        X.super.this();
        ()
      }
    };
    var X$$module: object X = null;
    final <stable> def X: object X = {
      if (X$$module.eq(null))
        X$$module = new object X();
      X$$module
    };
    X
  })
}
exception when traversing package <empty> {
  final class Y extends java.lang.Object with ScalaObject {
    def this(): object Y = {
      Y.super.this();
      ()
    };
    class A extends java.lang.Object with ScalaObject {
      def this(): Y.A = {
        A.super.this();
        ()
      }
    };
    def f: () => Y.A = (() => {
      final class X extends Y.this.A with ScalaObject {
        def this(): object X = {
          X.super.this();
          ()
        }
      };
      var X$$module: object X = null;
      final <stable> def X: object X = {
        if (X$$module.eq(null))
          X$$module = new object X();
        X$$module
      };
      X
    })
  }
}
Exception in thread "main" scala.tools.nsc.symtab.Types$$TypeError: type mismatch;
 found   : X.type (with underlying type object X)
 required: X.type forSome { val X: X; type X <: Y.A with ScalaObject }
	at scala.tools.nsc.typechecker.Contexts$$Context.error(Contexts.scala:318)
	at scala.tools.nsc.typechecker.Infer$$Inferencer.error(Infer.scala:273)
	at scala.tools.nsc.typechecker.Infer$$Inferencer.typeError(Infer.scala:283)
	at scala.tools.nsc.typechecker.Infer$$Inferencer.typeErrorTree(Infer.scala:292)
	at scala.tools.nsc.typechecker.Typers$$Typer.adapt(Typers.scala:1008)
	at scala.tools.nsc.typechecker.Typers$$Typer.typed(Typers.scala:4092)
	at scala.tools.nsc.typechecker.Typers$$Typer.typed(Typers.scala:4153)
	at scala.tools.nsc.typechecker.Typers$$Typer.transformedOrTyped(Typers.scala:4240)
	at scala.tools.nsc.typechecker.Typers$$Typer.typedDefDef(Typers.scala:1827)
	at scala.tools.nsc.typechecker.Typers$$Typer.typed1(Typers.scala:3751)
	at scala.tools.nsc.typechecker.Typers$$Typer.typed(Typers.scala:4087)
	at scala.tools.nsc.typechecker.Typers$$Typer.typed(Typers.scala:4140)
	at scala.tools.nsc.typechecker.Typers$$Typer.typedStat$$1(Typers.scala:2098)
	at scala.tools.nsc.typechecker.Typers$$Typer$$$$anonfun$$20.apply(Typers.scala:2166)
	at scala.tools.nsc.typechecker.Typers$$Typer$$$$anonfun$$20.apply(Typers.scala:2166)
	at scala.collection.immutable.List.loop$$1(List.scala:116)
	at scala.collection.immutable.List.mapConserve(List.scala:133)
	at scala.tools.nsc.typechecker.Typers$$Typer.typedStats(Typers.scala:2166)
	at scala.tools.nsc.typechecker.Typers$$Typer.typedTemplate(Typers.scala:1513)
	at scala.tools.nsc.typechecker.Typers$$Typer.typedClassDef(Typers.scala:1296)
	at scala.tools.nsc.typechecker.Typers$$Typer.typed1(Typers.scala:3742)
	at scala.tools.nsc.typechecker.Typers$$Typer.typed(Typers.scala:4087)
	at scala.tools.nsc.typechecker.Typers$$Typer.typed(Typers.scala:4140)
	at scala.tools.nsc.typechecker.Typers$$Typer.typedStat$$1(Typers.scala:2098)
	at scala.tools.nsc.typechecker.Typers$$Typer$$$$anonfun$$20.apply(Typers.scala:2166)
	at scala.tools.nsc.typechecker.Typers$$Typer$$$$anonfun$$20.apply(Typers.scala:2166)
	at scala.collection.immutable.List.loop$$1(List.scala:116)
	at scala.collection.immutable.List.mapConserve(List.scala:133)
	at scala.tools.nsc.typechecker.Typers$$Typer.typedStats(Typers.scala:2166)
	at scala.tools.nsc.typechecker.Typers$$Typer.typedBlock(Typers.scala:1923)
	at scala.tools.nsc.typechecker.Typers$$Typer.typed1(Typers.scala:3778)
	at scala.tools.nsc.typechecker.Typers$$Typer.typed(Typers.scala:4087)
	at scala.tools.nsc.typechecker.Typers$$Typer.typed(Typers.scala:4140)
	at scala.tools.nsc.transform.UnCurry$$UnCurryTransformer.transformFunction(UnCurry.scala:378)
	at scala.tools.nsc.transform.UnCurry$$UnCurryTransformer.mainTransform(UnCurry.scala:617)
	at scala.tools.nsc.transform.UnCurry$$UnCurryTransformer.transform(UnCurry.scala:168)
	at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transform$$5.apply(Trees.scala:1462)
	at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transform$$5.apply(Trees.scala:1460)
	at scala.tools.nsc.ast.Trees$$Transformer.atOwner(Trees.scala:1580)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.atOwner(TypingTransformers.scala:37)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.atOwner(TypingTransformers.scala:30)
	at scala.tools.nsc.ast.Trees$$Transformer.transform(Trees.scala:1459)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.transform(TypingTransformers.scala:52)
	at scala.tools.nsc.transform.UnCurry$$UnCurryTransformer.scala$$tools$$nsc$$transform$$UnCurry$$UnCurryTransformer$$$$super$$transform(UnCurry.scala:544)
	at scala.tools.nsc.transform.UnCurry$$UnCurryTransformer$$$$anonfun$$mainTransform$$1.apply(UnCurry.scala:544)
	at scala.tools.nsc.transform.UnCurry$$UnCurryTransformer$$$$anonfun$$mainTransform$$1.apply(UnCurry.scala:527)
	at scala.tools.nsc.transform.UnCurry$$UnCurryTransformer.withNeedLift$$1(UnCurry.scala:488)
	at scala.tools.nsc.transform.UnCurry$$UnCurryTransformer.mainTransform(UnCurry.scala:526)
	at scala.tools.nsc.transform.UnCurry$$UnCurryTransformer.transform(UnCurry.scala:168)
	at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transformStats$$1.apply(Trees.scala:1572)
	at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transformStats$$1.apply(Trees.scala:1570)
	at scala.collection.immutable.List.loop$$1(List.scala:116)
	at scala.collection.immutable.List.mapConserve(List.scala:133)
	at scala.collection.immutable.List.loop$$1(List.scala:120)
	at scala.collection.immutable.List.mapConserve(List.scala:133)
	at scala.collection.immutable.List.loop$$1(List.scala:120)
	at scala.collection.immutable.List.mapConserve(List.scala:133)
	at scala.tools.nsc.ast.Trees$$Transformer.transformStats(Trees.scala:1570)
	at scala.tools.nsc.ast.Trees$$Transformer.transform(Trees.scala:1476)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.scala$$tools$$nsc$$transform$$TypingTransformers$$TypingTransformer$$$$super$$transform(TypingTransformers.scala:48)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer$$$$anonfun$$transform$$1.apply(TypingTransformers.scala:48)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer$$$$anonfun$$transform$$1.apply(TypingTransformers.scala:48)
	at scala.tools.nsc.ast.Trees$$Transformer.atOwner(Trees.scala:1580)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.atOwner(TypingTransformers.scala:37)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.atOwner(TypingTransformers.scala:30)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.transform(TypingTransformers.scala:48)
	at scala.tools.nsc.transform.UnCurry$$UnCurryTransformer.mainTransform(UnCurry.scala:620)
	at scala.tools.nsc.transform.UnCurry$$UnCurryTransformer.transform(UnCurry.scala:168)
	at scala.tools.nsc.ast.Trees$$Transformer.transformTemplate(Trees.scala:1556)
	at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transform$$2.apply(Trees.scala:1446)
	at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transform$$2.apply(Trees.scala:1445)
	at scala.tools.nsc.ast.Trees$$Transformer.atOwner(Trees.scala:1580)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.atOwner(TypingTransformers.scala:37)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.atOwner(TypingTransformers.scala:30)
	at scala.tools.nsc.ast.Trees$$Transformer.transform(Trees.scala:1444)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.transform(TypingTransformers.scala:52)
	at scala.tools.nsc.transform.UnCurry$$UnCurryTransformer.mainTransform(UnCurry.scala:623)
	at scala.tools.nsc.transform.UnCurry$$UnCurryTransformer.transform(UnCurry.scala:168)
	at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transformStats$$1.apply(Trees.scala:1572)
	at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transformStats$$1.apply(Trees.scala:1570)
	at scala.collection.immutable.List.loop$$1(List.scala:116)
	at scala.collection.immutable.List.mapConserve(List.scala:133)
	at scala.tools.nsc.ast.Trees$$Transformer.transformStats(Trees.scala:1570)
	at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transform$$1.apply(Trees.scala:1440)
	at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transform$$1.apply(Trees.scala:1440)
	at scala.tools.nsc.ast.Trees$$Transformer.atOwner(Trees.scala:1580)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.atOwner(TypingTransformers.scala:37)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.atOwner(TypingTransformers.scala:30)
	at scala.tools.nsc.ast.Trees$$Transformer.transform(Trees.scala:1439)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.scala$$tools$$nsc$$transform$$TypingTransformers$$TypingTransformer$$$$super$$transform(TypingTransformers.scala:48)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer$$$$anonfun$$transform$$2.apply(TypingTransformers.scala:50)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer$$$$anonfun$$transform$$2.apply(TypingTransformers.scala:50)
	at scala.tools.nsc.ast.Trees$$Transformer.atOwner(Trees.scala:1580)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.atOwner(TypingTransformers.scala:37)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.atOwner(TypingTransformers.scala:30)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.transform(TypingTransformers.scala:50)
	at scala.tools.nsc.transform.UnCurry$$UnCurryTransformer.mainTransform(UnCurry.scala:623)
	at scala.tools.nsc.transform.UnCurry$$UnCurryTransformer.transform(UnCurry.scala:168)
	at scala.tools.nsc.transform.UnCurry$$UnCurryTransformer.transformUnit(UnCurry.scala:162)
	at scala.tools.nsc.transform.UnCurry$$UnCurryTransformer.transformUnit(UnCurry.scala:151)
	at scala.tools.nsc.transform.Transform$$Phase.apply(Transform.scala:31)
	at scala.tools.nsc.Global$$GlobalPhase$$$$anonfun$$applyPhase$$1.apply(Global.scala:281)
	at scala.tools.nsc.Global$$GlobalPhase$$$$anonfun$$applyPhase$$1.apply(Global.scala:281)
	at scala.tools.nsc.reporters.Reporter.withSource(Reporter.scala:48)
	at scala.tools.nsc.Global$$GlobalPhase.applyPhase(Global.scala:281)
	at scala.tools.nsc.Global$$GlobalPhase$$$$anonfun$$run$$1.apply(Global.scala:259)
	at scala.tools.nsc.Global$$GlobalPhase$$$$anonfun$$run$$1.apply(Global.scala:259)
	at scala.collection.Iterator$$class.foreach(Iterator.scala:582)
	at scala.collection.mutable.ListBuffer$$$$anon$$1.foreach(ListBuffer.scala:285)
	at scala.tools.nsc.Global$$GlobalPhase.run(Global.scala:259)
	at scala.tools.nsc.Global$$Run.compileSources(Global.scala:749)
	at scala.tools.nsc.Global$$Run.compile(Global.scala:839)
	at scala.tools.nsc.Main$$.process(Main.scala:110)
	at scala.tools.nsc.Main$$.main(Main.scala:124)
	at scala.tools.nsc.Main.main(Main.scala)
```
