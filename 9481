This appears to by fixed since f274490de1 / scala/bug#6548, so just a test case is needed.
