this depends on scala/bug#3346
