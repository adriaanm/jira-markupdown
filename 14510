FactoryAdapter.startElement(...) fails on the declaration

{code}
var scpe = scopeStack.top
{code}

because scopeStack is empty.  The fix is to add

{code}
scopeStack push TopScope
{code}

to FactoryAdapter's constructor
