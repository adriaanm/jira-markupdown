(In r22478) Routed all places in trunk which look for jar files through the
same function, and then changed the default behavior to recognize
jars even if they don't have a *.jar extension by squinting at the
first few bytes of the file.

Closes SI-3000 (THE AMAZING TICKET 3000!), review by phaller.
