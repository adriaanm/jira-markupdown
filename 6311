Just tried to update this patch to finally get rid of this ticket: https://github.com/soc/scala/tree/SI-4788-new ... apart from the known issue of scalac thinking that classOf doesn't exist in Predef, the test suite now fails with over 400 failures + nondeterminism:
```scala
test/partest --failed
```
```scala
Selected 402 tests drawn from previously failed tests

# starting 60 tests in pos
ok  1 - pos/NoCyclicReference.scala             
ok  2 - pos/A.scala                             
ok  3 - pos/S1.scala                            
ok  4 - pos/FPTest.scala                        
ok  5 - pos/S3.scala                            
ok  6 - pos/List1.scala                         
ok  7 - pos/MailBox.scala                       
!!  8 - pos/inline-access-levels                  [compilation failed]
...
```

Many of the failures are related to annotated elements just "disappearing":
```scala
@foo val bar = 1
//Somewhere else:
println(bar)
// scalac: Hey dude, bar doesn't exist, amiright?!
```

But not all of the failures use annotations.

I'm running out of ideas how a fix to make scalac determine correctly whether a Java annotation should be visible at runtime can wreak such a havoc all over the place.

I'd be happy about any help in this regard.
