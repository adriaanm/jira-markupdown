Paul, I had a look at your fix, but I thought a summary would be beneficial for whoever wants to fix this. One thing that jumped at me was

{code}
-          flatname = nme.flattenedName(rawowner.name, rawname)
+          flatname = nme.flattenedName(rawowner.javaSimpleName,rawname)
{code}

This seems to only look at the simple name of the owner, while the previous code would recurse through `.name`. I didn't build your code though, so I might have missed a compensating change in the rest of the patch. Since I don't plan to fix this myself (just realized it was assigned to me!), I didn't investigate further.
