Ugh.  The problem is not with the deprecation of overriding, it's with the covariance-friendly form of {{toSet}} that does not play well with typeclass-style restrictions.  I seriously doubt there is a solution here that is less drastic than "rewrite the whole collections library".  I'll look into it more, though.
