```scala
scala> def impl[A: c.WeakTypeTag, B: c.WeakTypeTag](c: Context) = { println(c.weakTypeTag[A]); println(c.weakTypeTag[B]); c.literalUnit }
impl: [A, B](c: scala.reflect.macros.Context)(implicit evidence$1: c.WeakTypeTag[A], implicit evidence$2: c.WeakTypeTag[B])c.Expr[Unit]

scala> def foo[A] = new { def bar[B] = macro impl[A, B] }
foo: [A]=> AnyRef{def bar[B]: Unit}

scala> foo[Int].bar[Double]
WeakTypeTag[A]
WeakTypeTag[B] 
```
