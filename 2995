The problem is that java enum values don't have a constant type when being parsed from java source (it works when compiling against the compiled java files). Not sure where to fix this, probably some special case in the typer.

The classfile parser does it:
{code}
sym.setInfo(if ((jflags & JAVA_ACC_ENUM) == 0) info else mkConstantType(Constant(sym)))
{code}
