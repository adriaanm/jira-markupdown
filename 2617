Damn. Silly cut&paste bugs. Correcting:
```scala
       var a = off 
       var d = off + len - 1 
       while (a <= d && x(a) == v) a += 1
       while (d >= a && x(d) == v) d -= 1
       var b = a 
       var c = d 
       var done = b <= c
```
