I've created a separate ticket scala/bug#7181 to deal with the finally block duplication 
