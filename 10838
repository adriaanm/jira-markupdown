I've added this extremely awful task to SBT:
```scala
def fatalWarningsTask = TaskKey[Unit]("fatalWarnings") <<= Def.task {
  fatalWarningsTaskImpl(streams.value, (compile in Compile).value)
}

def fatalWarningsTaskImpl(s: TaskStreams, a: sbt.inc.Analysis) {
  def logProblem(l: (=> String) => Unit, f: File, p: xsbti.Problem) = {
    l(f.toString + ":" + p.position.line.fold("")(_ + ":") + " " + p.message)
    l(p.position.lineContent)
    l("")
  }

  var failed = 0
  a.infos.allInfos.foreach { case (k, i) =>
    i.reportedProblems foreach { p =>
      val deprecation = p.message.contains("is deprecated")

      if(!deprecation)
        failed = failed + 1

      logProblem(if(deprecation) s.log.warn else s.log.error, k, p)
    }
  }

  if(failed > 0)
    error("Fatal warnings")
}
```

A total mess.
