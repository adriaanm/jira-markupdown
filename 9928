Here's another one which might make one question the optimality of the current approach. And it infers the same with an invariant Some, which leaves it saying that T=Any and T=Int in the same T-invariant expression.
```scala
object Test {
  // Infers (Some[Any], Int)
  def f(p: Any) = p match { case x @ Some(y @ 5) => ((x, y)) }
}
```
