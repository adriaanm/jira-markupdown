I looked into this a bit. scala.Console is a singleton, so overriding the behavior of println only in code running in a particular IMain instance would not be straightforward â€” especially in the presence of multiple threads.

the following workaround bypasses the official JSR 223 API but may be useful, regardless:

{noformat}
scala> import javax.script._
import javax.script._

scala> val e = new ScriptEngineManager().getEngineByName("scala")
e: javax.script.ScriptEngine = scala.tools.nsc.interpreter.IMain@7d2c345d

scala> val baos = new java.io.ByteArrayOutputStream
baos: java.io.ByteArrayOutputStream =

scala> val ps = new java.io.PrintStream(baos)
ps: java.io.PrintStream = java.io.PrintStream@36224f93

scala> Console.withOut(ps)(e.eval("List(1,2,3).foreach(println)"))
res1: Object = null

scala> baos.toString
res2: String =
"1
2
3
"
{noformat}
