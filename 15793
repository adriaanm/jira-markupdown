The following crashes every version of scala from the dawn of man to current trunk.
{code}
trait T {
  trait Default { def foo = this }
  object Default extends Default
}
{code}
The crash is as follows:
{code}
Exception in thread "main" scala.tools.nsc.symtab.Types$$TypeError: ambiguous reference to overloaded definition,
both value T$$Default$$$$$$outer in object Default of type ()T.this.type
and  value T$$Default$$$$$$outer in object Default of type ()T
match expected type ?
at scala.tools.nsc.typechecker.Contexts$$Context.ambiguousError(Contexts.scala:304)
at scala.tools.nsc.typechecker.Infer$$Inferencer$$$$anonfun$$inferExprAlternative$$1.apply$$mcV$$sp(Infer.scala:1544)
at scala.tools.nsc.typechecker.Infer$$Inferencer.tryTwice(Infer.scala:1657)
at scala.tools.nsc.typechecker.Infer$$Inferencer.inferExprAlternative(Infer.scala:1508)
{code}
As one might predict based on the error, it only crashes if they are companions and the one extends the other.

Parenthetically, this is what SI-2969 was attempting to report.
