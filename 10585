Also, this is definitively not a duplicate of scala/bug#7753, since that change makes this compile but leaves that untouched (both the reported version and your modified one.)
