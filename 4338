After verifying that the original sample does not trigger any more any error, I changed my mind and reduced the source code I have posted. The bug explanation is almost the same, but apparently `parentNode` is not required in the call to `optimize` to trigger the bug; it is only needed in the pattern match.
```scala
import scala.collection.TraversableLike
object Container {
    trait Exp[+T]
    abstract class FuncExp[-S, +T](val f: Exp[S] => Exp[T])

    sealed abstract class FoundNode[T, Repr <: Traversable[T] with TraversableLike[T, Repr]](val c: Exp[Repr with Traversable[T]]) {
        def optimize[TupleT, U, That <: Traversable[U]](parentNode: FlatMap[T, Repr, U, That]): Option[Exp[Traversable[T]]]
    }

    case class FlatMap[T, Repr <: Traversable[T] with TraversableLike[T, Repr], U, That <: Traversable[U]](base: Exp[Repr], f: FuncExp[T, Traversable[U]])

    def lookupIndexableExps: Seq[(FlatMap[_, _, _, _], FoundNode[_, _])] = Seq.empty

    for ((parentNode, fn: FoundNode[t, repr]) <- lookupIndexableExps) yield {
        //fn.optimize(parentNode) //triggers the crash
        fn.optimize(null) //triggers the crash as well, surprisingly for me!
    }
    //The code below does not trigger a crash, just a strange compile error!
    /*
    def lookupIndexableExps: Seq[FoundNode[_, _]] = Seq.empty
    //for ((fn: FoundNode[t, repr]) <- lookupIndexableExps) yield {
    for ((fn: FoundNode[_, _]) <- lookupIndexableExps) yield {
        fn.optimize(null)
    }
    */
}
```
Stacktrace (much shorter this time):
```scala
Exception in thread "main" scala.MatchError: ?>: Nothing <: Any (of class scala.tools.nsc.symtab.Types$BoundedWildcardType)
        at scala.tools.nsc.typechecker.Variances$class.varianceInType(Variances.scala:67)
        at scala.tools.nsc.Global$analyzer$.varianceInType(Global.scala:351)
        at scala.tools.nsc.typechecker.Variances$$anonfun$varianceInArgs$2.apply(Variances.scala:48)
        at scala.tools.nsc.typechecker.Variances$$anonfun$varianceInArgs$2.apply(Variances.scala:47)
        at scala.collection.LinearSeqOptimized$class.foreach(LinearSeqOptimized.scala:59)
        at scala.collection.immutable.List.foreach(List.scala:45)
        at scala.tools.nsc.typechecker.Variances$class.varianceInArgs(Variances.scala:47)
        at scala.tools.nsc.Global$analyzer$.varianceInArgs(Global.scala:351)
        at scala.tools.nsc.typechecker.Variances$class.varianceInType(Variances.scala:74)
        at scala.tools.nsc.Global$analyzer$.varianceInType(Global.scala:351)
        at scala.tools.nsc.typechecker.Variances$$anonfun$varianceInTypes$1.apply(Variances.scala:40)
        at scala.tools.nsc.typechecker.Variances$$anonfun$varianceInTypes$1.apply(Variances.scala:40)
        at scala.collection.LinearSeqOptimized$class.foldLeft(LinearSeqOptimized.scala:111)
        at scala.collection.immutable.List.foldLeft(List.scala:45)
        at scala.collection.TraversableOnce$class.$div$colon(TraversableOnce.scala:137)
        at scala.collection.immutable.List.$div$colon(List.scala:45)
        at scala.tools.nsc.typechecker.Variances$class.varianceInTypes(Variances.scala:40)
        at scala.tools.nsc.Global$analyzer$.varianceInTypes(Global.scala:351)
        at scala.tools.nsc.typechecker.Infer$Inferencer$$anonfun$protoTypeArgs$1.apply(Infer.scala:573)
        at scala.tools.nsc.typechecker.Infer$Inferencer$$anonfun$protoTypeArgs$1.apply(Infer.scala:572)
        at scala.Tuple2$Zipped$$anonfun$map$1.apply(Tuple2.scala:65)
        at scala.Tuple2$Zipped$$anonfun$map$1.apply(Tuple2.scala:63)
        at scala.collection.LinearSeqOptimized$class.foreach(LinearSeqOptimized.scala:59)
        at scala.collection.immutable.List.foreach(List.scala:45)
        at scala.Tuple2$Zipped.map(Tuple2.scala:63)
        at scala.tools.nsc.typechecker.Infer$Inferencer.protoTypeArgs(Infer.scala:572)
        at scala.tools.nsc.typechecker.Typers$Typer.doTypedApply(Typers.scala:2467)
        at scala.tools.nsc.typechecker.Typers$Typer.typedApply$1(Typers.scala:3371)
        at scala.tools.nsc.typechecker.Typers$Typer.typed1(Typers.scala:4104)
        at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:4271)
        at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:4344)
        at scala.tools.nsc.typechecker.Typers$Typer.typedCase(Typers.scala:1957)
        at scala.tools.nsc.typechecker.Typers$Typer$$anonfun$typedCases$1.apply(Typers.scala:1975)
        at scala.tools.nsc.typechecker.Typers$Typer$$anonfun$typedCases$1.apply(Typers.scala:1974)
        at scala.collection.immutable.List.loop$1(List.scala:117)
        at scala.collection.immutable.List.mapConserve(List.scala:133)
        at scala.tools.nsc.typechecker.Typers$Typer.typedCases(Typers.scala:1974)
        at scala.tools.nsc.typechecker.Typers$Typer.typed1(Typers.scala:4003)
        at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:4271)
        at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:4344)
        at scala.tools.nsc.typechecker.Typers$Typer.typedFunction(Typers.scala:2042)
        at scala.tools.nsc.typechecker.Typers$Typer.typed1(Typers.scala:3978)
        at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:4271)
        at scala.tools.nsc.typechecker.Typers$Typer.typedArg(Typers.scala:2191)
        at scala.tools.nsc.typechecker.Typers$Typer.typedArgToPoly$1(Typers.scala:2477)
        at scala.tools.nsc.typechecker.Typers$Typer$$anonfun$32.apply(Typers.scala:2485)
        at scala.tools.nsc.typechecker.Typers$Typer$$anonfun$32.apply(Typers.scala:2485)
        at scala.Tuple2$Zipped$$anonfun$map$1.apply(Tuple2.scala:65)
        at scala.Tuple2$Zipped$$anonfun$map$1.apply(Tuple2.scala:63)
        at scala.collection.LinearSeqOptimized$class.foreach(LinearSeqOptimized.scala:59)
        at scala.collection.immutable.List.foreach(List.scala:45)
        at scala.Tuple2$Zipped.map(Tuple2.scala:63)
        at scala.tools.nsc.typechecker.Typers$Typer.doTypedApply(Typers.scala:2485)
        at scala.tools.nsc.typechecker.Typers$Typer.typedApply$1(Typers.scala:3371)
        at scala.tools.nsc.typechecker.Typers$Typer.typed1(Typers.scala:4104)
        at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:4271)
        at scala.tools.nsc.typechecker.Typers$Typer.typedStat$1(Typers.scala:2100)
        at scala.tools.nsc.typechecker.Typers$Typer$$anonfun$24.apply(Typers.scala:2184)
        at scala.tools.nsc.typechecker.Typers$Typer$$anonfun$24.apply(Typers.scala:2184)
        at scala.collection.immutable.List.loop$1(List.scala:117)
        at scala.collection.immutable.List.mapConserve(List.scala:133)
        at scala.tools.nsc.typechecker.Typers$Typer.typedStats(Typers.scala:2184)
        at scala.tools.nsc.typechecker.Typers$Typer.typedTemplate(Typers.scala:1512)
        at scala.tools.nsc.typechecker.Typers$Typer.typedModuleDef(Typers.scala:1320)
        at scala.tools.nsc.typechecker.Typers$Typer.typed1(Typers.scala:3913)
        at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:4271)
        at scala.tools.nsc.typechecker.Typers$Typer.typedStat$1(Typers.scala:2100)
        at scala.tools.nsc.typechecker.Typers$Typer$$anonfun$24.apply(Typers.scala:2184)
        at scala.tools.nsc.typechecker.Typers$Typer$$anonfun$24.apply(Typers.scala:2184)
        at scala.collection.immutable.List.loop$1(List.scala:117)
        at scala.collection.immutable.List.mapConserve(List.scala:133)
        at scala.tools.nsc.typechecker.Typers$Typer.typedStats(Typers.scala:2184)
        at scala.tools.nsc.typechecker.Typers$Typer.typed1(Typers.scala:3906)
        at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:4271)
        at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:4331)
        at scala.tools.nsc.typechecker.Analyzer$typerFactory$$anon$3.apply(Analyzer.scala:94)
        at scala.tools.nsc.Global$GlobalPhase.applyPhase(Global.scala:329)
        at scala.tools.nsc.typechecker.Analyzer$typerFactory$$anon$3$$anonfun$run$1.apply(Analyzer.scala:86)
        at scala.tools.nsc.typechecker.Analyzer$typerFactory$$anon$3$$anonfun$run$1.apply(Analyzer.scala:86)
        at scala.collection.Iterator$class.foreach(Iterator.scala:660)
        at scala.collection.mutable.ListBuffer$$anon$1.foreach(ListBuffer.scala:316)
        at scala.tools.nsc.typechecker.Analyzer$typerFactory$$anon$3.run(Analyzer.scala:86)
        at scala.tools.nsc.Global$Run.compileSources(Global.scala:953)
        at scala.tools.nsc.Global$Run.compile(Global.scala:1038)
        at scala.tools.nsc.Main$.process(Main.scala:106)
        at scala.tools.nsc.Main$.main(Main.scala:123)
        at scala.tools.nsc.Main.main(Main.scala)
```
