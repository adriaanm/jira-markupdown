I was working on a scala project that depends on a Java project, so I was just switching between scala and java edit buffers, after a while, I'd get this error: 
```scala
!ENTRY org.eclipse.ui.workbench 4 2 2008-05-16 13:11:11.035
!MESSAGE Problems occurred when invoking code from plug-in: "org.eclipse.ui.workbench".
!STACK 0
java.lang.ClassCastException: org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor cannot be cast to ch.epfl.lamp.sdt.ui.scalaeditor.ScalaEditor
```

After that, the edit buffers just behave weird, and the problem props up whenever I switch from scala to java.  This error can be reproduced very easily.

Was using Eclipse 3.3, Sun JDK 1.6, Plugin 2.7.1.RC1

mark
