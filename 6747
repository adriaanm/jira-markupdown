If you wrap such a code with a ScalaTest test, instead of a type checker confusion you get a compiler error:
{code}
    [error] Unknown type: <error>, <error> [class scala.reflect.internal.Types$ErrorType$, class scala.reflect.internal.Types$ErrorType$] TypeRef? false
    [trace] Stack trace suppressed: run last test:compile for the full output.
    [error] (test:compile) scala.reflect.internal.FatalError: Unknown type: <error>, <error> [class scala.reflect.internal.Types$ErrorType$, class scala.reflect.internal.Types$ErrorType$] TypeRef? false
{code}
You can find exemplary code [here|https://github.com/falconepl/scala-bugs/blob/master/src/test/scala/simple/FooServiceTest.scala].
