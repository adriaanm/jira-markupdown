For reference: the last revision where this worked was r17756.  In r17757 it starts tripping this in assert Typers adapt, and from that point it has had a number of different failing behaviors.
{code}
      case PolyType(tparams, restpe) if ((mode & (TAPPmode | PATTERNmode)) == 0) => // (3)
        assert((mode & HKmode) == 0) //@M
{code}
And maybe this is a red herring since it does work in r17756, but that last working commit is a change to the pickler format.  Speaking of which, I kind of wish I knew who is responsible for fully understanding the pickler format, because as far as I have been able to observe, nobody does.
