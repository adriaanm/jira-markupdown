I think Lex' suggestion is excellent. Can we do that, please?

The error will still not go away if you place the code in a block, but that's intentional. It's necessary to ensure that foo cannot potentially see uninitialized block-local variables.
