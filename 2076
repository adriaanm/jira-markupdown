This is (mostly) a duplicate of scala/bug#1285.  It's on my list!
