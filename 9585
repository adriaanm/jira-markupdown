A closely related erasure bug that I'm tackling at the same time:

{noformat}
scala> class ValA[A](val a: A) extends AnyVal
defined class ValA

scala> class C { def foo[Z](as: ValA[Array[Int]]) = as.a.head };
defined class C

scala> new C().foo(new ValA(Array[Int](1)))
java.lang.ClassCastException: [I cannot be cast to [Ljava.lang.Integer;
	at .<init>(<console>:11)
{noformat}

See: ea96b48d9274e90b64b66e51507460c004c01643: "Changed erasure behavior of arrays to use always boxed representation."
