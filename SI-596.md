It seems that the order of execution of phases provided by compiler plugins might be counterintuitive in the case of two phases from different plugins which run after e.g. the same builtin phase. In this csae, when specifying plugins a and b on the command line, these phases are executed in the order b,a instead of the expected a,b. The same applies for the {{components}}-list of a plugin. 

The attached patch should change the behavior in that it inserts 'new' phases after those phases with the same {{runsAfter}} value which were inserted earlier. This allows a programmer to influence the order of execution by changing the order in which she specifies the plugins on the command line (which is not new, but the order on the command line now matches the order of execution, i.e. it is not reversed anymore). I'll also attach two example programs where this change makes a (visual) difference.

As suggested by Lex in a private mail, an ideal solution would be to insert the phases in alphabetical order, which should be more stable. This would also make the order of execution independent from the order of specification on the commnd line. It could probably be achieved easily by extending at least one of the {{if}} statements in my patch, but I did not have the time to play around with this.
