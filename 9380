Somewhat reduced.
{code}
trait A { type C }
trait B { this: A =>
  type C <: { def foo }
  (??? : C).foo
}
{code}
