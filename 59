Sean, this is not something that can be fixed easily. For your first example, the position in the trees are such that there is no way to know at which line 'return' should be. One gets a position for the *beginning* of a tree, i.e. the `Block` representing the rhs of method `main`, but not where it ends. So the compiler has to approximate, and use either the position of the enclosing block (not good, it would mean to jump to the beginning of the method) or the latest position that it has seen. In this case, it is the 'g'. I'll have to find a better way of handling these situations.
