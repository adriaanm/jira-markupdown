it's not related to extractors, but to the fact that the prefix of a.Ex refers to the pattern in which it occurs... sneaky!

my test case:

{code}
object Test {
  case class A(x: Int) {
    object Ex {
      def unapply(i: Int): Option[Int] = Some(i)
    }
  }

  val a = A(42)

  a match {
    case a@A(a/*<-- refers to the pattern that includes this comment*/.Ex(42)) =>  // change a@ to x@ and everything's fine...
  }
}
{code}
