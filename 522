Not exactly short but reproducible. Make a lift project with:
{code}
mvn org.apache.maven.plugins:maven-archetype-plugin:1.0-alpha-7:create -DarchetypeGroupId=net.liftweb -DarchetypeArtifactId=lift-archetype-basic -DarchetypeVersion=0.8-SNAPSHOT -DremoteRepositories=http://scala-tools.org/repo-snapshots -DgroupId=scala.bugs -DartifactId=bug689
{code}

go to bug689/src/main/scala/scala/bugs/snippet and add a !FlexMenu.scala with the following content: 
{code}
package scala.bugs.snippet

import net.liftweb.http.S
import net.liftweb.sitemap._
import scala.xml._

class FlexMenu {
  def builder: NodeSeq = {
    S.request.map(_.buildMenu.lines match {
      case Nil => Text("No Navigation Defined.")
      case x :: xs => <ul>{x.items.flatMap(buildANavItem(_))}</ul>
    }).openOr(Text("No Navigation Defined."))
  }

  private def buildANavItem(i: MenuItem) = i match {
    case MenuItem(text, uri, true, _, _) => (<li><a href={uri} id="current">{text}</a></li>)
    case MenuItem(text, uri, _, true, _) => (<li><a href={uri} id="current">{text}</a></li>)
    case MenuItem(text, uri, _, _, _) => (<li><a href={uri}>{text}</a></li>)
  }
}
{code}

The content of the file is actually an exact copy of the file inside lift from net.liftweb.builtin.snippet.Menu. I'm just trying to override it here. The rest of the relevant classes for lift are inside net.liftweb.sitemap (Loc.scala mostly).

The issue with this bug is that it works fine if you are compiling in the same project and it fails if it's used from a library. That's also the case with the original bug report http://www.nabble.com/-scala-tools--XML-syntax-highlighting-in-Eclipse-td16158707i20.html

