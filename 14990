The following source crashes scalac 2.7.7 and 2.8.0.Beta1 with a MatchError (see attached stack trace)
```scala
trait T {
  type P
  def unapply(a: P): Option[P]
}

trait B {
  def T1: T
}

object D extends B {
  val T1 = new T {
    type P = String
    def unapply(a: String): Option[String] = Some(a)
  }
}

object Main {
  def main(args: Array[String]) {
    val b: B = D
    import b.T1

    // following line crashes scala/scalac
    val T1(foo) = "foo"
    ()
  }
}
```

If one makes type P concrete in T, for example 
```scala
type P=String
```
, the code compiles.
