fsc -Xprint:all -Xprint-types Test.scala 

On either path we get to this point
{code}
[[syntax trees at end of              constructors]] // Test.scala
package <empty>{type} {
  class test extends Object {
    def foo(): Unit = {
      val x: Broke.Breakage = CHIP{Broke.Breakage(CHIP)};
      (){Unit}
    }{Unit};
  }
}
{code}

Then, when it works we get
{code}
[[syntax trees at end of                   flatten]] // Test.scala
package <empty>{type} {
  class test extends Object {
    def foo(): Unit = {
      val x: Broke$Breakage = CHIP{Broke$Breakage(CHIP)};
      (){Unit}
    }{Unit};
  }
}
{code}

However, when it doesn't work we get
{code}
[[syntax trees at end of                   flatten]] // Test.scala
package <empty>{type} {
  class test extends Object {
    def foo(): Unit = {
      val x: Broke$Breakage = CHIP{<notype>(CHIP)};
      (){Unit}
    }{Unit};
  }
}
{code}
