Ok, thanks. Maybe worth considering is to make all vals lazy (implicitly) in such blocks. But I do not know if that would impact performance in any way significantly.
