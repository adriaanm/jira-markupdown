I started a while back; I pushed it in case it's useful.

  https://github.com/paulp/scala/tree/topic/purity-analysis

But as you discovered, pretty much every file anywhere appears side effecting until we know the loading of Predef$.MODULE$ is not side effecting, and short of special-casing it that raises the bar before we can get anything useful at all.
