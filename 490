This is kind of a duplicate of scala/bug#307, but maybe it would be better to close scala/bug#307.
