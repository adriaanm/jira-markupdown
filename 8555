Sorry, but I think this is an over-reaction. Has anybody attempted to fix this? It seems not as the ticket is still unassigned.

This is a fairly easy diagnosis and fix: If you look at the generated code after post-erasure you see that an equals on a value class is replaced by the equals on the underlying object. The same optimization is not done for hashcode.

There are two possible fixes:

1) Do the == optimization only if equals is not overridden anywhere

2) Demand that universal traits may not implement equals and hashCode.

I would vote for 2), which should be really easy to implement. 

Thanks




