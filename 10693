Minimized (compile with {{-optimize}}):

{code}
class Si8306 {
	def foo: Int = 123
	lazy val extension: Int =
    	foo match {
      		case idx if idx != -1 => 15
      		case _ => 17
    	}
}
{code}

Lazy val is important here. If I change it to val or def then the crash is gone.
