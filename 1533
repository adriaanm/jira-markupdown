Duplicate of scala/bug#1089, all the way.  I'm going to consolidate all three under scala/bug#900 with pointers to these tickets.  I also am looking at implementing this - it shouldn't be too hard but so far I find the code generation in the compiler a little hard to follow.
