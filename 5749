duplicate of scala/bug#3999
