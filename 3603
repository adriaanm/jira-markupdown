The crux of the problem appears to be in `inferExpressionInstance` when called with these arguments:
```scala
tree = "test.this.ListMA[Option[Int]]((immutable.this.Nil: List[Option[Int]])).sequence[N, B]"
tparams = "List(type N, type B)"
pt = "Option[List[Int]]"
keepNothings = false
```

It gets to a point where:
```scala
detargs = "List(N, Int)"
detparams = "List(type B)"
```

Should there be an invariant that these lists are the same length?

This mutates tree to:
```scala
test.this.ListMA[Option[Int]]((immutable.this.Nil: List[Option[Int]])).sequence[N, N]
```

and returns:
```scala
undetparams$$3 = "List(type N)"
```
