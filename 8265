This is a duplicate of SI-4012, which is one of those bugs I've plus-or-minus fixed but never checked in.  If you want to run with it, https://github.com/paulp/scala/tree/issue/4012 .  There are several bugs in there in various states of disarray; this one I believe is easy.
