do you mean a Tree instance occurs multiple times (and thus that the tree becomes a dag?)
that's not supported (later phases mutate trees in-place and get confused if mutating one tree will also change "another" tree, i.e. the same object but nested somewhere else in the ast)

If I understand the code correctly, I think you should use `body.tree.duplicate`

