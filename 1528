Investigated by reproducing exception and using debugger to break on it.

The observed exception is caused by a org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration object for SpecializedTypes.scala with an incorrect representation of the source files structure. Ie the file appears to have been misparsed.

Eg the CompilationUnitDeclaration shows SpecializedTypes as having the following nested-types structure:
- SpecializedTypes 
  - Symbol Table
    - AdaptMethodBody
When in fact Symbol Table and AdaptMethodBody are siblings below SpecializedTypes.

There are also errors where methods are listed against the wrong type, and non-declaration statements are mistaken as method declarations. 

Ive traced the error back to ASTParser, line 898, which calls CompilationUnitResolver.parse() which returns the invalid CompilationUnitDeclaration.

I need more info on where/how the SDT injects its Scala-based CompilationUnitDeclaration to progress this bug.


