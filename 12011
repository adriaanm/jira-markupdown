This bug has the same cause as scala/bug#7269, but then only `retain()` was fixed. I have just submitted [a pull request](https://github.com/scala/scala/pull/4810) in which `clear()` is fixed to have the same structure as `retain()`.
