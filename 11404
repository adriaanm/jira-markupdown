Regarding the necessary fix: I guess the hardest part is to figure out how to make sure that things like `Retention`, `RetentionPolicy` and its members actually refer to `java.lang.annotation` and not some random other type. (Very unlikely, but easy to provide with an obvious example if matching is implemented "by name only".)
