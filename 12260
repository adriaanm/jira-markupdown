Smaller reproduction: Fail.scala:
```scala
var X = new { 
  def x = Seq.empty[AnyRef].reduce((a,b) => a)
}
```

Script:
```scala
scala -nc -Yrepl-class-based
:load Fail.scala
val a = X
X = null
:load Fail.scala
X
:q
```
