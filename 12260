Smaller reproduction: Fail.scala:

{code}
var X = new { 
  def x = Seq.empty[AnyRef].reduce((a,b) => a)
}
{code}

Script:

{code}
scala -nc -Yrepl-class-based
:load Fail.scala
val a = X
X = null
:load Fail.scala
X
:q
{code}
