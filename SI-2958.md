The following sample program causes the compiler to crash, as of r20644.
{code}
object test {
  def main(args: Array[String]) {
    args match {
      case Array("-p", prefix, from, to) =>
        println(prefix + from + to)   
      
      case Array(from, to) =>
        println(from + to)

      case _ =>
        println("default")
    }
  }
}
{code}

Here's the stack trace:

{code}
Exception in thread "main" scala.tools.nsc.symtab.Types$$TypeError: too many arguments for method body%1: ()Unit
        at scala.tools.nsc.typechecker.Contexts$$Context.error(Contexts.scala:318)
        at scala.tools.nsc.typechecker.Infer$$Inferencer.error(Infer.scala:275)
        at scala.tools.nsc.typechecker.Infer$$Inferencer.errorTree(Infer.scala:279)
        at scala.tools.nsc.typechecker.Typers$$Typer$$$$anonfun$$tryNamesDefaults$$1$$1.apply(Typers.scala:2312)
        at scala.tools.nsc.typechecker.Typers$$Typer$$$$anonfun$$tryNamesDefaults$$1$$1.apply(Typers.scala:2312)
        at scala.Option.getOrElse(Option.scala:59)
        at scala.tools.nsc.typechecker.Typers$$Typer.tryNamesDefaults$$1(Typers.scala:2311)
        at scala.tools.nsc.typechecker.Typers$$Typer.doTypedApply(Typers.scala:2374)
        at scala.tools.nsc.typechecker.Typers$$Typer.typedApply$$1(Typers.scala:3316)
        at scala.tools.nsc.typechecker.Typers$$Typer.typed1(Typers.scala:3933)
        at scala.tools.nsc.typechecker.Typers$$Typer.typed(Typers.scala:4087)
        at scala.tools.nsc.typechecker.Typers$$Typer.typed(Typers.scala:4140)
        at scala.tools.nsc.matching.ParallelMatching$$MatchMatrix$$Rep.toTree(ParallelMatching.scala:761)
        at scala.tools.nsc.matching.ParallelMatching$$MatchMatrix$$MixSequence.success(ParallelMatching.scala:471)
        at scala.tools.nsc.matching.ParallelMatching$$MatchMatrix$$RuleApplication.codegen(ParallelMatching.scala:249)
        at scala.tools.nsc.matching.ParallelMatching$$MatchMatrix$$MixSequence.tree(ParallelMatching.scala:474)
        at scala.tools.nsc.matching.ParallelMatching$$MatchMatrix$$Rep.applyRule(ParallelMatching.scala:783)
        at scala.tools.nsc.matching.ParallelMatching$$MatchMatrix$$Rep.toTree(ParallelMatching.scala:761)
        at scala.tools.nsc.matching.ParallelMatching$$MatchMatrix$$MixSequence.failure(ParallelMatching.scala:472)
        at scala.tools.nsc.matching.ParallelMatching$$MatchMatrix$$RuleApplication.codegen(ParallelMatching.scala:249)
        at scala.tools.nsc.matching.ParallelMatching$$MatchMatrix$$MixSequence.tree(ParallelMatching.scala:474)
        at scala.tools.nsc.matching.ParallelMatching$$MatchMatrix$$Rep.applyRule(ParallelMatching.scala:783)
        at scala.tools.nsc.matching.ParallelMatching$$MatchMatrix$$Rep.toTree(ParallelMatching.scala:761)
        at scala.tools.nsc.matching.ParallelMatching$$MatchMatrix$$MixUnapply.success(ParallelMatching.scala:434)
        at scala.tools.nsc.matching.ParallelMatching$$MatchMatrix$$RuleApplication.codegen(ParallelMatching.scala:249)
        at scala.tools.nsc.matching.ParallelMatching$$MatchMatrix$$MixUnapply.tree(ParallelMatching.scala:440)
        at scala.tools.nsc.matching.ParallelMatching$$MatchMatrix$$Rep.applyRule(ParallelMatching.scala:783)
        at scala.tools.nsc.matching.ParallelMatching$$MatchMatrix$$Rep.toTree(ParallelMatching.scala:761)
        at scala.tools.nsc.matching.TransMatcher$$class.handlePattern(TransMatcher.scala:82)
        at scala.tools.nsc.transform.ExplicitOuter.handlePattern(ExplicitOuter.scala:20)
        at scala.tools.nsc.transform.ExplicitOuter$$ExplicitOuterTransformer.matchTranslation(ExplicitOuter.scala:390)
        at scala.tools.nsc.transform.ExplicitOuter$$ExplicitOuterTransformer.transform(ExplicitOuter.scala:479)
        at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transform$$5.apply(Trees.scala:1462)
        at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transform$$5.apply(Trees.scala:1460)
        at scala.tools.nsc.ast.Trees$$Transformer.atOwner(Trees.scala:1580)
        at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.atOwner(TypingTransformers.scala:37)
        at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.atOwner(TypingTransformers.scala:30)
        at scala.tools.nsc.ast.Trees$$Transformer.transform(Trees.scala:1459)
        at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.transform(TypingTransformers.scala:52)
        at scala.tools.nsc.transform.ExplicitOuter$$OuterPathTransformer.transform(ExplicitOuter.scala:230)
        at scala.tools.nsc.transform.ExplicitOuter$$ExplicitOuterTransformer.transform(ExplicitOuter.scala:448)
        at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transformStats$$1.apply(Trees.scala:1572)
        at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transformStats$$1.apply(Trees.scala:1570)
        at scala.collection.immutable.List.loop$$1(List.scala:116)
        at scala.collection.immutable.List.mapConserve(List.scala:133)
        at scala.tools.nsc.ast.Trees$$Transformer.transformStats(Trees.scala:1570)
        at scala.tools.nsc.ast.Trees$$Transformer.transform(Trees.scala:1476)
        at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.scala$$tools$$nsc$$transform$$TypingTransformers$$TypingTransformer$$$$super$$transform(TypingTransformers.scala:48)
        at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer$$$$anonfun$$transform$$1.apply(TypingTransformers.scala:48)
        at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer$$$$anonfun$$transform$$1.apply(TypingTransformers.scala:48)
        at scala.tools.nsc.ast.Trees$$Transformer.atOwner(Trees.scala:1580)
        at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.atOwner(TypingTransformers.scala:37)
        at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.atOwner(TypingTransformers.scala:30)
        at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.transform(TypingTransformers.scala:48)
        at scala.tools.nsc.transform.ExplicitOuter$$OuterPathTransformer.transform(ExplicitOuter.scala:230)
        at scala.tools.nsc.transform.ExplicitOuter$$ExplicitOuterTransformer.transform(ExplicitOuter.scala:428)
        at scala.tools.nsc.ast.Trees$$Transformer.transformTemplate(Trees.scala:1556)
        at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transform$$2.apply(Trees.scala:1446)
        at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transform$$2.apply(Trees.scala:1445)
        at scala.tools.nsc.ast.Trees$$Transformer.atOwner(Trees.scala:1580)
        at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.atOwner(TypingTransformers.scala:37)
        at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.atOwner(TypingTransformers.scala:30)
        at scala.tools.nsc.ast.Trees$$Transformer.transform(Trees.scala:1444)
        at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.transform(TypingTransformers.scala:52)
        at scala.tools.nsc.transform.ExplicitOuter$$OuterPathTransformer.transform(ExplicitOuter.scala:230)
        at scala.tools.nsc.transform.ExplicitOuter$$ExplicitOuterTransformer.transform(ExplicitOuter.scala:482)
        at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transformStats$$1.apply(Trees.scala:1572)
        at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transformStats$$1.apply(Trees.scala:1570)
        at scala.collection.immutable.List.loop$$1(List.scala:116)
        at scala.collection.immutable.List.mapConserve(List.scala:133)
        at scala.tools.nsc.ast.Trees$$Transformer.transformStats(Trees.scala:1570)
        at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transform$$1.apply(Trees.scala:1440)
        at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transform$$1.apply(Trees.scala:1440)
        at scala.tools.nsc.ast.Trees$$Transformer.atOwner(Trees.scala:1580)
        at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.atOwner(TypingTransformers.scala:37)
        at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.atOwner(TypingTransformers.scala:30)
        at scala.tools.nsc.ast.Trees$$Transformer.transform(Trees.scala:1439)
        at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.scala$$tools$$nsc$$transform$$TypingTransformers$$TypingTransformer$$$$super$$transform(TypingTransformers.scala:48)
        at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer$$$$anonfun$$transform$$2.apply(TypingTransformers.scala:50)
        at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer$$$$anonfun$$transform$$2.apply(TypingTransformers.scala:50)
        at scala.tools.nsc.ast.Trees$$Transformer.atOwner(Trees.scala:1580)
        at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.atOwner(TypingTransformers.scala:37)
        at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.atOwner(TypingTransformers.scala:30)
        at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.transform(TypingTransformers.scala:50)
        at scala.tools.nsc.transform.ExplicitOuter$$OuterPathTransformer.transform(ExplicitOuter.scala:230)
        at scala.tools.nsc.transform.ExplicitOuter$$ExplicitOuterTransformer.transform(ExplicitOuter.scala:482)
        at scala.tools.nsc.ast.Trees$$Transformer.transformUnit(Trees.scala:1573)
        at scala.tools.nsc.transform.ExplicitOuter$$ExplicitOuterTransformer.scala$$tools$$nsc$$transform$$ExplicitOuter$$ExplicitOuterTransformer$$$$super$$transformUnit(ExplicitOuter.scala:492)
        at scala.tools.nsc.transform.ExplicitOuter$$ExplicitOuterTransformer$$$$anonfun$$transformUnit$$1.apply(ExplicitOuter.scala:492)
        at scala.tools.nsc.transform.ExplicitOuter$$ExplicitOuterTransformer$$$$anonfun$$transformUnit$$1.apply(ExplicitOuter.scala:492)
        at scala.tools.nsc.symtab.SymbolTable.atPhase(SymbolTable.scala:99)
        at scala.tools.nsc.transform.ExplicitOuter$$ExplicitOuterTransformer.transformUnit(ExplicitOuter.scala:492)
        at scala.tools.nsc.transform.ExplicitOuter$$ExplicitOuterTransformer.transformUnit(ExplicitOuter.scala:293)
        at scala.tools.nsc.transform.Transform$$Phase.apply(Transform.scala:31)
        at scala.tools.nsc.Global$$GlobalPhase$$$$anonfun$$applyPhase$$1.apply(Global.scala:278)
        at scala.tools.nsc.Global$$GlobalPhase$$$$anonfun$$applyPhase$$1.apply(Global.scala:278)
        at scala.tools.nsc.reporters.Reporter.withSource(Reporter.scala:48)
        at scala.tools.nsc.Global$$GlobalPhase.applyPhase(Global.scala:278)
        at scala.tools.nsc.Global$$GlobalPhase$$$$anonfun$$run$$1.apply(Global.scala:256)
        at scala.tools.nsc.Global$$GlobalPhase$$$$anonfun$$run$$1.apply(Global.scala:256)
        at scala.collection.Iterator$$class.foreach(Iterator.scala:582)
        at scala.collection.mutable.ListBuffer$$$$anon$$1.foreach(ListBuffer.scala:285)
        at scala.tools.nsc.Global$$GlobalPhase.run(Global.scala:256)
        at scala.tools.nsc.Global$$Run.compileSources(Global.scala:753)
        at scala.tools.nsc.Global$$Run.compile(Global.scala:843)
        at scala.tools.nsc.Main$$.process(Main.scala:110)
        at scala.tools.nsc.Main$$.main(Main.scala:124)
        at scala.tools.nsc.Main.main(Main.scala)
{code}
(In r21923) Overhauled sequence length logic in the pattern matcher.  Removes
unnecessary boxing and a few varieties of wrongness.

Closes SI-3395, SI-3150, SI-2958, SI-2945, SI-2187.  No review.
