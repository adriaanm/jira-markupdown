See also scala/bug#8252 which is in the same neighbourhood as this bug.
