I see fail3() is not news; scala/bug#1557 is reporting a variation on the problem in 2008. I am closing that as a duplicate, hoping it will receive more attention here. Enclosing the example because it exploits the problem differently.
```scala
trait A
trait B extends A

trait C {
  val x : AnyRef
  trait D { type T >: B <: A }
  val y: (D with x.type)#T = new B { }
}

class D extends C {
  trait E
  val x : AnyRef { type T = E} = null
  def frob(arg : E) : E = arg
  frob(y)
}

new D
```
