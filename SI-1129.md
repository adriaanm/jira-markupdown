I get the following stack error when trying to compile the attached file: 

{code}
java.lang.AssertionError: assertion failed
	at scala.Predef$$.assert(Predef.scala:87)
	at scala.tools.nsc.transform.Mixin$$MixinTransformer.scala$$tools$$nsc$$transform$$Mixin$$MixinTransformer$$$$postTransform(Mixin.scala:782)
	at scala.tools.nsc.transform.Mixin$$MixinTransformer$$$$anonfun$$transform$$1.apply(Mixin.scala:809)
	at scala.tools.nsc.transform.Mixin$$MixinTransformer$$$$anonfun$$transform$$1.apply(Mixin.scala:809)
	at scala.tools.nsc.symtab.SymbolTable.atPhase(SymbolTable.scala:105)
	at scala.tools.nsc.transform.Mixin$$MixinTransformer.transform(Mixin.scala:809)
	at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transformTrees$$1.apply(Trees.scala:1385)
	at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transformTrees$$1.apply(Trees.scala:1385)
	at scala.List$$.loop$$1(List.scala:293)
	at scala.List$$.mapConserve(List.scala:310)
	at scala.tools.nsc.ast.Trees$$Transformer.transformTrees(Trees.scala:1385)
	at scala.tools.nsc.ast.Trees$$Transformer.transform(Trees.scala:1349)
	at scala.tools.nsc.transform.Mixin$$MixinTransformer.transform(Mixin.scala:808)
	at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transformStats$$1.apply(Trees.scala:1403)
	at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transformStats$$1.apply(Trees.scala:1401)
	at scala.List$$.loop$$1(List.scala:293)
	at scala.List$$.mapConserve(List.scala:310)
	at scala.tools.nsc.ast.Trees$$Transformer.transformStats(Trees.scala:1401)
	at scala.tools.nsc.ast.Trees$$Transformer.transform(Trees.scala:1311)
	at scala.tools.nsc.transform.Mixin$$MixinTransformer.transform(Mixin.scala:808)
	at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transform$$5.apply(Trees.scala:1294)
	at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transform$$5.apply(Trees.scala:1293)
	at scala.tools.nsc.ast.Trees$$Transformer.atOwner(Trees.scala:1409)
	at scala.tools.nsc.ast.Trees$$Transformer.transform(Trees.scala:1292)
	at scala.tools.nsc.transform.Mixin$$MixinTransformer.transform(Mixin.scala:808)
	at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transformStats$$1.apply(Trees.scala:1403)
	at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transformStats$$1.apply(Trees.scala:1401)
	at scala.List$$.loop$$1(List.scala:293)
	at scala.List$$.mapConserve(List.scala:310)
	at scala.tools.nsc.ast.Trees$$Transformer.transformStats(Trees.scala:1401)
	at scala.tools.nsc.ast.Trees$$Transformer.transform(Trees.scala:1309)
	at scala.tools.nsc.transform.Mixin$$MixinTransformer.transform(Mixin.scala:808)
	at scala.tools.nsc.ast.Trees$$Transformer.transformTemplate(Trees.scala:1387)
	at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transform$$2.apply(Trees.scala:1281)
	at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transform$$2.apply(Trees.scala:1281)
	at scala.tools.nsc.ast.Trees$$Transformer.atOwner(Trees.scala:1409)
	at scala.tools.nsc.ast.Trees$$Transformer.transform(Trees.scala:1280)
	at scala.tools.nsc.transform.Mixin$$MixinTransformer.transform(Mixin.scala:808)
	at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transformStats$$1.apply(Trees.scala:1403)
	at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transformStats$$1.apply(Trees.scala:1401)
	at scala.List$$.loop$$1(List.scala:293)
	at scala.List$$.mapConserve(List.scala:310)
	at scala.List$$.loop$$1(List.scala:297)
	at scala.List$$.mapConserve(List.scala:310)
	at scala.List$$.loop$$1(List.scala:297)
	at scala.List$$.mapConserve(List.scala:310)
	at scala.List$$.loop$$1(List.scala:297)
	at scala.List$$.mapConserve(List.scala:310)
	at scala.List$$.loop$$1(List.scala:297)
	at scala.List$$.mapConserve(List.scala:310)
	at scala.List$$.loop$$1(List.scala:297)
	at scala.List$$.mapConserve(List.scala:310)
	at scala.List$$.loop$$1(List.scala:297)
	at scala.List$$.mapConserve(List.scala:310)
	at scala.List$$.loop$$1(List.scala:297)
	at scala.List$$.mapConserve(List.scala:310)
	at scala.tools.nsc.ast.Trees$$Transformer.transformStats(Trees.scala:1401)
	at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transform$$1.apply(Trees.scala:1277)
	at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transform$$1.apply(Trees.scala:1277)
	at scala.tools.nsc.ast.Trees$$Transformer.atOwner(Trees.scala:1409)
	at scala.tools.nsc.ast.Trees$$Transformer.transform(Trees.scala:1276)
	at scala.tools.nsc.transform.Mixin$$MixinTransformer.transform(Mixin.scala:808)
	at scala.tools.nsc.ast.Trees$$Transformer.transformUnit(Trees.scala:1404)
	at scala.tools.nsc.transform.Transform$$Phase.apply(Transform.scala:30)
	at scala.tools.nsc.Global$$GlobalPhase.applyPhase(Global.scala:257)
	at scala.tools.nsc.Global$$GlobalPhase$$$$anonfun$$run$$1.apply(Global.scala:243)
	at scala.tools.nsc.Global$$GlobalPhase$$$$anonfun$$run$$1.apply(Global.scala:243)
	at scala.Iterator$$class.foreach(Iterator.scala:395)
	at scala.collection.mutable.ListBuffer$$$$anon$$1.foreach(ListBuffer.scala:266)
	at scala.tools.nsc.Global$$GlobalPhase.run(Global.scala:243)
	at scala.tools.nsc.Global$$Run.compileSources(Global.scala:555)
	at scala.tools.nsc.Global$$Run.compile(Global.scala:640)
	at scala.tools.nsc.StandardCompileServer.session(CompileServer.scala:137)
	at scala.tools.util.SocketServer$$$$anonfun$$run$$1.apply(SocketServer.scala:69)
	at scala.tools.util.SocketServer$$$$anonfun$$run$$1.apply(SocketServer.scala:69)
	at scala.util.DynamicVariable.withValue(DynamicVariable.scala:73)
	at scala.Console$$.withOut(Console.scala:84)
	at scala.Console$$.withOut(Console.scala:102)
	at scala.tools.util.SocketServer.run(SocketServer.scala:68)
	at scala.tools.nsc.StandardCompileServer.main(CompileServer.scala:179)
	at scala.tools.nsc.CompileServer.main(CompileServer.scala)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at scala.tools.nsc.ObjectRunner$$$$anonfun$$run$$1.apply(ObjectRunner.scala:75)
	at scala.tools.nsc.ObjectRunner$$.withContextClassLoader(ObjectRunner.scala:49)
	at scala.tools.nsc.ObjectRunner$$.run(ObjectRunner.scala:74)
	at scala.tools.nsc.MainGenericRunner$$.main(MainGenericRunner.scala:161)
	at scala.tools.nsc.MainGenericRunner.main(MainGenericRunner.scala)
error: fatal error (server aborted): assertion failed
one error found
{code}


I assume you are using 2.7.1-final.  This compiles for me in the latest nightly (I think this is a duplicate of SI-770).
Yes, it looks like a duplicate of SI-770, thanks. I should have checked closed bugs when looking for dupes, sorry!
