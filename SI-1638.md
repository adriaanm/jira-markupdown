{code}
object SelfInPattern {
  self =>
  val x : Any = 42

  def main(args: Array[String]) {
     x match {
      case `self` => println("yes")
      case y => println("no")
    }
  }
}
{code}

Exception in thread "main" java.lang.Exception: Unexpected pattern: class scala.tools.nsc.ast.Trees$$This => SelfInPattern.this
	at scala.tools.nsc.matching.ParallelMatching$$RepFactory.classifyPat$$1(ParallelMatching.scala:850)
	at scala.tools.nsc.matching.ParallelMatching$$RepFactory$$$$anonfun$$32$$$$anonfun$$apply$$4.apply(ParallelMatching.scala:854)
	at scala.tools.nsc.matching.ParallelMatching$$RepFactory$$$$anonfun$$32$$$$anonfun$$apply$$4.apply(ParallelMatching.scala:854)
	at scala.List$$.map2(List.scala:326)
	at scala.tools.nsc.matching.ParallelMatching$$Row.expand(ParallelMatching.scala:677)
	at scala.tools.nsc.matching.ParallelMatching$$RepFactory$$$$anonfun$$32.apply(ParallelMatching.scala:854)
	at scala.tools.nsc.matching.ParallelMatching$$RepFactory$$$$anonfun$$32.apply(ParallelMatching.scala:854)
	at scala.List.flatMap(List.scala:1125)
	at scala.tools.nsc.matching.ParallelMatching$$RepFactory.make(ParallelMatching.scala:854)
	at scala.tools.nsc.matching.ParallelMatching$$RepFactory.make(ParallelMatching.scala:701)
	at scala.tools.nsc.matching.ParallelMatching$$class.initRep(ParallelMatching.scala:964)
	at scala.tools.nsc.transform.ExplicitOuter.initRep(ExplicitOuter.scala:19)
	at scala.tools.nsc.matching.TransMatcher$$class.handlePattern(TransMatcher.scala:81)
	at scala.tools.nsc.transform.ExplicitOuter.handlePattern(ExplicitOuter.scala:19)
	at scala.tools.nsc.transform.ExplicitOuter$$ExplicitOuterTransformer.transform(ExplicitOuter.scala:473)
	at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transform$$5.apply(Trees.scala:1369)
	at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transform$$5.apply(Trees.scala:1368)
	at scala.tools.nsc.ast.Trees$$Transformer.atOwner(Trees.scala:1484)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.atOwner(TypingTransformers.scala:33)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.atOwner(TypingTransformers.scala:27)
	at scala.tools.nsc.ast.Trees$$Transformer.transform(Trees.scala:1367)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.transform(TypingTransformers.scala:46)
	at scala.tools.nsc.transform.ExplicitOuter$$OuterPathTransformer.transform(ExplicitOuter.scala:224)
	at scala.tools.nsc.transform.ExplicitOuter$$ExplicitOuterTransformer.transform(ExplicitOuter.scala:382)
	at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transformStats$$1.apply(Trees.scala:1478)
	at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transformStats$$1.apply(Trees.scala:1476)
	at scala.List$$.loop$$1(List.scala:293)
	at scala.List$$.mapConserve(List.scala:310)
	at scala.tools.nsc.ast.Trees$$Transformer.transformStats(Trees.scala:1476)
	at scala.tools.nsc.ast.Trees$$Transformer.transform(Trees.scala:1384)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.scala$$tools$$nsc$$transform$$TypingTransformers$$TypingTransformer$$$$super$$transform(TypingTransformers.scala:44)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer$$$$anonfun$$transform$$1.apply(TypingTransformers.scala:44)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer$$$$anonfun$$transform$$1.apply(TypingTransformers.scala:44)
	at scala.tools.nsc.ast.Trees$$Transformer.atOwner(Trees.scala:1484)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.atOwner(TypingTransformers.scala:33)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.atOwner(TypingTransformers.scala:27)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.transform(TypingTransformers.scala:44)
	at scala.tools.nsc.transform.ExplicitOuter$$OuterPathTransformer.transform(ExplicitOuter.scala:224)
	at scala.tools.nsc.transform.ExplicitOuter$$ExplicitOuterTransformer.transform(ExplicitOuter.scala:362)
	at scala.tools.nsc.ast.Trees$$Transformer.transformTemplate(Trees.scala:1462)
	at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transform$$2.apply(Trees.scala:1356)
	at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transform$$2.apply(Trees.scala:1356)
	at scala.tools.nsc.ast.Trees$$Transformer.atOwner(Trees.scala:1484)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.atOwner(TypingTransformers.scala:33)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.atOwner(TypingTransformers.scala:27)
	at scala.tools.nsc.ast.Trees$$Transformer.transform(Trees.scala:1355)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.transform(TypingTransformers.scala:46)
	at scala.tools.nsc.transform.ExplicitOuter$$OuterPathTransformer.transform(ExplicitOuter.scala:224)
	at scala.tools.nsc.transform.ExplicitOuter$$ExplicitOuterTransformer.transform(ExplicitOuter.scala:482)
	at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transformStats$$1.apply(Trees.scala:1478)
	at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transformStats$$1.apply(Trees.scala:1476)
	at scala.List$$.loop$$1(List.scala:293)
	at scala.List$$.mapConserve(List.scala:310)
	at scala.tools.nsc.ast.Trees$$Transformer.transformStats(Trees.scala:1476)
	at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transform$$1.apply(Trees.scala:1352)
	at scala.tools.nsc.ast.Trees$$Transformer$$$$anonfun$$transform$$1.apply(Trees.scala:1352)
	at scala.tools.nsc.ast.Trees$$Transformer.atOwner(Trees.scala:1484)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.atOwner(TypingTransformers.scala:33)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.atOwner(TypingTransformers.scala:27)
	at scala.tools.nsc.ast.Trees$$Transformer.transform(Trees.scala:1351)
	at scala.tools.nsc.transform.TypingTransformers$$TypingTransformer.transform(TypingTransformers.scala:46)
	at scala.tools.nsc.transform.ExplicitOuter$$OuterPathTransformer.transform(ExplicitOuter.scala:224)
	at scala.tools.nsc.transform.ExplicitOuter$$ExplicitOuterTransformer.transform(ExplicitOuter.scala:482)
	at scala.tools.nsc.ast.Trees$$Transformer.transformUnit(Trees.scala:1479)
	at scala.tools.nsc.transform.ExplicitOuter$$ExplicitOuterTransformer.scala$$tools$$nsc$$transform$$ExplicitOuter$$ExplicitOuterTransformer$$$$super$$transformUnit(ExplicitOuter.scala:492)
	at scala.tools.nsc.transform.ExplicitOuter$$ExplicitOuterTransformer$$$$anonfun$$transformUnit$$1.apply(ExplicitOuter.scala:492)
	at scala.tools.nsc.transform.ExplicitOuter$$ExplicitOuterTransformer$$$$anonfun$$transformUnit$$1.apply(ExplicitOuter.scala:492)
	at scala.tools.nsc.symtab.SymbolTable.atPhase(SymbolTable.scala:106)
	at scala.tools.nsc.transform.ExplicitOuter$$ExplicitOuterTransformer.transformUnit(ExplicitOuter.scala:492)
	at scala.tools.nsc.transform.ExplicitOuter$$ExplicitOuterTransformer.transformUnit(ExplicitOuter.scala:293)
	at scala.tools.nsc.transform.Transform$$Phase.apply(Transform.scala:30)
	at scala.tools.nsc.Global$$GlobalPhase.applyPhase(Global.scala:267)
	at scala.tools.nsc.Global$$GlobalPhase$$$$anonfun$$run$$1.apply(Global.scala:246)
	at scala.tools.nsc.Global$$GlobalPhase$$$$anonfun$$run$$1.apply(Global.scala:246)
	at scala.Iterator$$class.foreach(Iterator.scala:414)
	at scala.collection.mutable.ListBuffer$$$$anon$$1.foreach(ListBuffer.scala:266)
	at scala.tools.nsc.Global$$GlobalPhase.run(Global.scala:246)
	at scala.tools.nsc.Global$$Run.compileSources(Global.scala:574)
	at scala.tools.nsc.Global$$Run.compile(Global.scala:667)
	at scala.tools.nsc.Main$$.process(Main.scala:73)
	at scala.tools.nsc.Main$$.main(Main.scala:87)
	at scala.tools.nsc.Main.main(Main.scala)

