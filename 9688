Another test case:
```scala
class A { val x = ""; val xs: x.type with Singleton = x ; val y: x.type = xs }
<console>:7: error: type mismatch;
 found   : A.this.x.type with Singleton
 required: A.this.x.type
       class A { val x = ""; val xs: x.type with Singleton = x ; val y: x.type = xs }
```
