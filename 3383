This is directly related to scala/bug#2424 (Volatile annotation should yield volatile semantics on a local var captured by closures). We should reconsider the resolution of that one, and implement the required logic for volatile ref cells.
