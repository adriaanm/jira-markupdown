Duplicate of scala/bug#1594 (exact same example even) and fixed in trunk.
