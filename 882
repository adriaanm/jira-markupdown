I could not reproduce this issue with r15501. It returns a static error:
```scala
pattern type is incompatible with expected type;
 found   : TestX.this.Query[RowA]
 required: TestX.this.Query[TestX.this.Row with _$$5] where type _$$5
        case ConstraintEntry(q : Query[RowA],c) if q == this => ret = ret + c.asInstanceOf[Constraint[RowA,_]]
                                 ^
```
