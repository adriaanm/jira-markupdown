The recipe above does away with reflective calls in several situations, but some remain. For them, a refinement type reference can sometimes be traced back to a single allocation site, thus guaranteenig that a named class can be inserted instead. Looks like deciding whether one such usage can be "traced back to a single allocation site" is a task for points-to analysis. For example, the following POPL 2011 accepted paper presents recent ideas on that: 

Smaragdakis Y., Bravenboer M., Lhotï¿½k O., [[BR]]
Pick Your Contexts Well: Understanding Object-Sensitivity.[[BR]] 
http://www.cs.umass.edu/~yannis/typesens-prelim.pdf 

Just for those students reading this who might be looking for a thesis topic :) 

