Also see https://issues.scala-lang.org/browse/SI-8367 that made us revert the change to Java-defined classes targeted at fixing a part of this problem.
