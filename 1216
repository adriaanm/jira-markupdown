Replying to [comment:3 eengbrec]:

`
val m = new WeakHashMap[A, Something]

class A {
  class X
  def f = new X
}

def g = {
val a = new A
m += (a, someValue)
a.f
}
`

someValue will be garbage collected if X has no reference to outer class.
