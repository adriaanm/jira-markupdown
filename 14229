The short example of WordExp usage, given in the API docs, crashes the interpreter. A scala program made out of it crashes fsc and scalac. An example on using scala.util.automata found at Scala Wiki also crashes scalac and fsc.

On a brief investigation, if either of the type clauses below is not present, no crashes occurs (but we get an type error elsewhere). If both are present, a crash occurs.

import scala.util.regexp._
  import scala.util.automata._
  object MyLang extends WordExp {
    type _regexpT = RegExp
    type _labelT = MyChar

    case class MyChar(c:Char) extends Label
  }
  import MyLang._
  // (a* | b)*
  val rex = Star(Alt(Star(Letter(MyChar('a'))),Letter(MyChar('b'))))
  object MyBerriSethi extends WordBerrySethi {
    override val lang = MyLang
  }
  val nfa = MyBerriSethi.automatonFrom(Sequ(rex), 1)
