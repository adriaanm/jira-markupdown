duplicate of scala/bug#3609 of course...
