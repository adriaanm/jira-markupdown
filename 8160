That might be related to another nasty problem I spotted and briefly discussed with Adriaan. Tree attachments can smuggle through trees and symbols that evade the resetters; in particular the new pattern matcher has:

{code}
case class DefaultOverrideMatchAttachment(default: Tree)
{code}

We can either make the traversers / transformers descend into attachments (perhaps attachments that implement a 'Tree Smuggler' interface or somesuch); or go a different way and mandate that any tree that is smuggled in an attachment must also be inserted *somewhere* into the real tree, perhaps as an argument to a dummy method or annotation that get's eliminated down the line. (Yes, I feel a little dirty for suggesting that...)

