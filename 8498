In 2.10 this gives the following, which is pretty cool because it involves multiple, far-flung bug fixes.
{code}
scala> def foo = { class Foo { class Bar { val b = 2 }}; val f = new Foo; new f.Bar }
foo: Object{type Bar <: Object{val b: Int}}#Bar
{code}
