Hold on. If either M[X] or Foo[X] is invariant then the compiler can find the implicit definition. Why this interplay between the implicit search scope and variance? 

It is sad that using a variance annotation breaks modularity: now anyone that wants to add a new type that is a M must open the definition of object M. 
