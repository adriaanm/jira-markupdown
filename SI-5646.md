Since a few weeks (2?), I had a failing Scala IDE debugger test on 2.10. I finally got around looking at the problem. It is linked to a change in the generated byte code (fine, I'll try to adapt).

But the new generated class contains bad debug line number information.

For the following code

```scala
package test
class BadLineInformation {
  def f() {
    var l = List(1)
    for (n <- l) {
      println(n)
    }
  }
}
```

this bytecode and line information is generated (subset of `javap -l -c -s`)

```none
...

public final void apply(int);
  Signature: (I)V
  Code:
   0:	getstatic	#19; //Field scala/Predef$.MODULE$:Lscala/Predef$;
   3:	iload_1
   4:	invokestatic	#26; //Method scala/runtime/BoxesRunTime.boxToInteger:(I)Ljava/lang/Integer;
   7:	invokevirtual	#30; //Method scala/Predef$.println:(Ljava/lang/Object;)V
   10:	return

  LineNumberTable: 
   line 5: 0


../..

public void apply$mcVI$sp(int);
  Signature: (I)V
  Code:
   0:	getstatic	#19; //Field scala/Predef$.MODULE$:Lscala/Predef$;
   3:	iload_1
   4:	invokestatic	#26; //Method scala/runtime/BoxesRunTime.boxToInteger:(I)Ljava/lang/Integer;
   7:	invokevirtual	#30; //Method scala/Predef$.println:(Ljava/lang/Object;)V
   10:	return

  LineNumberTable: 
   line 6: 0

...
```

In 2.9 and previous builds of 2.10, `apply(I)V` used to delegate the call to `apply$mcVI$sp(I)V`. Nowadays, it also contains the real code. But the debug line information still points to the old fake location (line 5), it should be pointing to the real location (line 6).

As far as I can see, this 'optimization' is only done when the code of the anon func is real simple (single method call?).
Closing as invalid.

The inlining is done because some parts of optimize are automatically enabled when compiling with 2.10 in Scala IDE (and maybe sbt too).
Iulian is looking at the problem.
