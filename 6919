More mangling seems to be called for here. Might be worth considering scala/bug#3994 at the same time.
