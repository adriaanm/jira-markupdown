It is easy to work around just by rearrange lines of code.

What is weird is the error appears in so simple code, without any esoteric features of scala, in the code that any beginner could write.
