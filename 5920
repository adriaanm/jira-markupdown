Ok, I was mistaken. I mean, I was mistaken to suggest I never realized calling `transform` twice makes it exponential -- I did, and opened a ticket about it. This is a duplicate of scala/bug#3689, and the solution I present there is probably slower, but works much harder at preserving referential equality of unchanged nodes, for whatever that is worth.

Specifically, the solution here only preserves children of a node if none of the siblings is modified. The solution there preserves all nodes where no changes are made.
