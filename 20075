The following code produces a warning inside the "getFooWarning" function if the -Ywarn-dead-code flag is turned on:

{code:java}
class Sample {                                                                                       
  val map: Map[String, Any] = Map("foo" -> "bar")                                                    
                                                                                                     
  def getValue[T](key: String): T = map(key).asInstanceOf[T]                                         

  def getFooWarning: String = {
    val localFoo: String = getValue("foo")
    localFoo
  }
                                                                                                     
  def getFooNoWarning: String = {
    getValue("foo")
  }
}  
{code}

Note that this seems to happen only if the value is used in a local; the "getFooNoWarning" function doesn't generate a warning.

This seems very similar to https://issues.scala-lang.org/browse/SI-8109 .
