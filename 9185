Regressed in https://github.com/scala/scala/commit/f708b87, but I suspect that this just unmasked a problem introduced earlier in {{NamesDefaults}} https://github.com/scala/scala/commit/185b1c8.

Test case:

{code}
package p1

protected[p] class C(var x: Int = 0)

protected[p] trait T {
  new C()
}
{code}
