I gave it another look and it seems like the root cause is the same as scala/bug#4820. To keep story short, constructor of `test.Test$Y$` refers to A parameter because it takes Test instance as it's argument `<init>(Ltest/Test;)V`.

Now, `test.Test$Y$` is not declared as inner class in InnerClasses attribute so from ecj's point of view A is not in scope. I guess that fix for scala/bug#4820 will fix this issue too.
