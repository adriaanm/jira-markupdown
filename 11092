Looks like this has been broken and fixed before:
SI-6440
https://github.com/scala/scala/commit/7a6905dc158a7a543ba3f4ddeeffe538580958d3
There's even a test: test/files/run/t6440.scala

Here is the commit that broke this again:
https://github.com/scala/scala/commit/3059e3a0c039645158d2e5533e84d00f508ca824#diff-4b8694484188574dce55135fd0bc9ae5
