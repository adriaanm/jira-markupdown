Just to add an example that doesn't require extending a case class or writing a constant equals:

{code}
scala> (IndexedSeq(): Any) match { case n @ Nil => n.mapConserve(x => x) }
java.lang.ClassCastException: scala.collection.immutable.Vector cannot be cast to scala.collection.immutable.List
{code}
