It would be nice to have a {{typeCheckPattern}} method in {{scala.reflect.macros.Context}}. Right now, none of the existing ways to determine the type of a tree works for patterns:

{code}
def macroImpl(c: Context)(...) = {
  ...
  val CaseDef(pattern, guard, body) = ...

  // null
  pattern.tpe

  // Throws TypeCheckException
  c.typeCheck(pattern)
}
{code}

Invoking the {{tpe}} method on a pattern always results in {{null}}, using the existing {{typeCheck}} function in the {{Context}} class throws a {{TypeCheckException}}. A full example is attached to this issue.
