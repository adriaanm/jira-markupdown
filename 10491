Here's what I did. I'm not saying it's any better; really I don't believe there is a correct way to handle it given the compiler architecture. 

https://github.com/paulp/scala/compare/issue;8177
