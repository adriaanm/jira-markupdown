(In r20817) use newly added typer hooks for lub and BYVALmode, giving much more precise typing. fixes scala/bug#1929, scala/bug#1808, scala/bug#1820. review by community.
