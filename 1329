I very much question the suggestion that this program is "built on a type lie" or that changing the inferred type from a List of Ints to Any isn't going to break anything.
{code}
object Test {
  def f(xs: Any) = xs match {
    case xs @ Nil => xs
    case _        => List[Int]()
  }
}
{code}
