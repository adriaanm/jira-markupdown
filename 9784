Still needs a little work:

{noformat}
Test suite finished with 3 cases failing:
fail - continuations-run/match2.scala  [compilation failed]% scalac match2.scala
match2.scala:9: error: error during expansion of this match (this is a scalac bug).
The underlying error was: type mismatch;
 found   : (String, String) @scala.util.continuations.cpsSynth @scala.util.continuations.cpsParam[String,String]
 required: (String, String)

    val (a, b) = shift { k: (((String,String)) => String) => k("A","B") }
{noformat}
