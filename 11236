I've added tests for scala/bug#7350.
https://github.com/scala/scala/pull/3920
