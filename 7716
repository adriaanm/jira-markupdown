Fixed by scala/bug#5859; closing with a test case: https://github.com/scala/scala/pull/1731
