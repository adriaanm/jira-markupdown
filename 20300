Compiling the attached file with scalac causes NegativeArraySizeException (the full stack trace is also attached).

It may be related to scala/bug#8414 and possibly scala/bug#9786, but it's still present in 2.12.
