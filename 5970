After a few minutes of "educating the compiler" your test case outputs this for me:
{noformat}
'Test
Success 1
'Test
Success 2
'Test
Success 3
{noformat}
Since you've been so helpful in this ticket already, if there are more cases not well covered by that one test it would be awesome if you could save me dredging around for more.  I think I have this nailed but I'd feel a lot better with more tests.
