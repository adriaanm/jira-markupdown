Indeed, both variants compile with my as-yet unmerged patch for SI-5294. I'm going to merge these tickets, and then see about merging that patch (IIRC it revealed a latent bug elsewhere in the compiler which also needs to be fixed... sigh)

https://github.com/scala/scala/commit/f8a55515cecece0c70c3021b378fb443359dee84#commitcomment-11806426
