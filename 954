This seems to be a dupe of SI-1087. (It uses extractors rather than case classes, but errors in the same place with the same error and is the same basic idea). 
