Regressed in https://github.com/scala/scala/commit/69109c0. Workaround is to avoid the optimizer, or to use `-Yconst-opt:false`, which disabled the optimizations introduced in that commit.

{noformat}
% scalac test/files/run/t9422.scala && scala Test // okay
% scalac -Yconst-opt:false -optimize test/files/run/t9422.scala && scala Test // okay
{noformat}
