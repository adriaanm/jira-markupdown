This is less a bug in inference than a bug in the language, though the productIterator code should recognize the situation and push the type to Any (AnyVal is useless.) There is no way in general to inhibit it from widening Ints to Doubles. The best you can do is elicit a warning.
{code}
% scalac -Xexperimental -Ywarn-numeric-widen a.scala
a.scala:3: warning: implicit numeric widening
  case class IntAndDouble(i: Int, d: Double)
             ^
one warning found
{code}
