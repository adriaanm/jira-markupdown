in Scala 2.12.0
```scala
Welcome to Scala 2.12.0 (Java HotSpot(TM) 64-Bit Server VM, Java 1.8.0_112).
Type in expressions for evaluation. Or try :help.

scala> :paste
// Entering paste mode (ctrl-D to finish)

import scala.language.experimental.macros
import scala.reflect.macros.Context
  
trait A{
  def x: Int = 1
}
  
  
object B {
  def impl(c: Context): c.Expr[Int] = {
    import c.universe._
    c.Expr[Int](Literal(Constant(2)))
  }
}
  
class B extends A {
  override def x: Int = macro B.impl
}

// Exiting paste mode, now interpreting.

<console>:20: warning: type Context in package macros is deprecated (since 2.11.0): use blackbox.Context or whitebox.Context instead
         def impl(c: Context): c.Expr[Int] = {
                     ^
import scala.language.experimental.macros
import scala.reflect.macros.Context
defined trait A
defined object B
defined class B

scala> val b = new B
b: B = B@552cede7

scala> b.x
res0: Int = 2

scala> (b: A).x
res1: Int = 1
```
