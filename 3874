(In r21964) Fix for sliding boundary condition.  Closes scala/bug#3341, no review.
