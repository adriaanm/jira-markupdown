The following code produces IllegalAccessError when run. Since the variable is annotated as private[this] the compiler should catch the access violation at compile time.

{code}
object Test {
  def main(args: Array[String]) {
    val t = new Test
    t.inner.foo()
  }
}

class Test {
  class Inner {
    def foo() { bar = false }
  }
  val inner = new Inner
  private[this] final var bar = true
}
{code}
