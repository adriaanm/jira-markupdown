Ah, good point. I didn't realize that. Fundamentally, it looks like with value classes we are trying to bend erasure rules too far to fit into box (pun intended) JVM gives us. I believe much better approach is to deal with box-unboxing optimization at JVM level (by nudging JIT). It seems like an excellent topic for JVM Language summit next week.
