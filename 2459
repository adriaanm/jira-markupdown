Thanks for submitting a patch.

However, note that there is a bug in the `foldr` function in the attached patch: in the body, `foldr` is called recursively passing `end - 1` as first and `start` as second parameter. This means the recursive invocation will access `this(-1)`. Using the patched function the provided test case computes 0 instead of 3.

Fixed in r19183 (trunk). Test in `test/files/run/t2446.scala`.
