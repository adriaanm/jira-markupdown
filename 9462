A very simple test that doesn't fail is this:

{code}
class Target[@specialized(Int) T]{ def foo = 1 }

object Test {
  def spec_mapper[@specialized(Int) T](t: T) =
    new Target[T]().foo
}
{code}

I checked with and without separate compilation and it always works.
I will leave it for now, that's a pretty big time sink.
