Duplicate of scala/bug#2171 (and presently does not hang if you use trunk, although it isn't yet properly fixed.)
