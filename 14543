The attached program, which serializes then deserializes an object, runs as expected standalone, but complains that it can't find one of the classes (already loaded!) when running under the REPL.

To reproduce:

  > scalac -cp . SerialTest.scala
  
  > scala -cp . SerialTest

  before: Land(8,List(Road(1000,2400,4)),2500,4.0)

  after: Land(8,List(Road(1000,2400,4)),2500,4.0)
  
  > scala -cp .

  Welcome to Scala version 2.7.6.final (Java HotSpot(TM) Client VM, Java 1.6.0_16).

  Type in expressions to have them evaluated.

  Type :help for more information.
  
  scala> SerialTest.main(new Array[String](0))

  before: Land(8,List(Road(1000,2400,4)),2500,4.0)

  java.lang.ClassNotFoundException: Road
          at java.net.URLClassLoader$$1.run(Unknown Source)
          at java.security.AccessController.doPrivileged(Native Method)
          at java.net.URLClassLoader.findClass(Unknown Source)
          at java.lang.ClassLoader.loadClass(Unknown Source)
          at sun.misc.Launcher$$AppClassLoader.loadClass(Unknown Source)
          at java.lang.ClassLoader.loadClass(Unknown Source)
          at java.lang....
