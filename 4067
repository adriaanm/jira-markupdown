We might be able to let this one through with:

{code}
-        if (sym.isTopLevel)
+        if (sym.isTopLevel && !sym.isParameter)
          fail(ImplicitAtToplevel)
{code}

