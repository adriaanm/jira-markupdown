This is fixed, but I opened SI-3195 about the bytecode issue, which is a bug.  (It wasn't a bug until recently because x.equals(null) was allowed to be true.  No longer.)
