I just stumbled over a very similar error, judging from the stacktrace I got.

{code}
trait A
trait B
def x(a: (A { val y: Int }) with B { val y: Int }) = a.y
{code}

leads to
{code}
Exception in thread "main" java.lang.AssertionError: assertion failed
        at scala.Predef$$.assert(Predef.scala:78)
        at scala.tools.nsc.ast.TreeGen.mkCast(TreeGen.scala:141)
        at scala.tools.nsc.ast.TreeDSL$$CODE$$TreeMethods.AS_ATTR(TreeDSL.scala:126)
        at scala.tools.nsc.transform.Erasure$$Eraser.cast(Erasure.scala:500)
        at scala.tools.nsc.transform.Erasure$$Eraser.adaptMember(Erasure.scala:623)
        at scala.tools.nsc.transform.Erasure$$Eraser.liftedTree1$$1(Erasure.scala:649)
        at scala.tools.nsc.transform.Erasure$$Eraser.typed1(Erasure.scala:648)
        at scala.tools.nsc.typechecker.Typers$$Typer.typed(Typers.scala:4046)
        at scala.tools.nsc.typechecker.Typers$$Typer$$$$anonfun$$typedApply$$1$$1.apply(Typers.scala:3252)
        at scala.tools.nsc.typechecker.Typers$$Typer$$$$anonfun$$typedApply$$1$$1.apply(Typers.scala:3252)
...
{code}

(I was just exploring the AST, found it interesting that CompoundTypeTree takes a Template and played around with it until it suddenly crashed my REPL.)
