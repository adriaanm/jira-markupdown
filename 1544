Good catch! I am going to apply the patch for now. I also agree that isInstanceOf and pattern matching should behave the same way. As to what is the most useful way, I am not sure. Given the trap with Settings, maybe it would be most useful to assume Outer#Inner for any match against Inner, except if an outer instance is given eplicitly.

Pro: This seems to be what one wants most of the time.
Contra: It introduces an irregularity, since normally the identifier `Tpe' means `this.Tpe'.

What do people think?

Thanks

 -- Martin

