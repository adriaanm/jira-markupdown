This compiles:
{code}
object Test {
  val a = ""
  var b: a.type = a
}
{code}

This fails, the only difference being the addition of "final" on the val. 
{code}
object Test {
  final val a = ""
  var b: a.type = a
}
{code}
