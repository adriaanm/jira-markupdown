When attaching sources as a linked project to a jar referenced in a scala project, the following exception occurs. The attached zip file contains two projects which reproduce this error.


java.lang.IllegalArgumentException: Path must include project and resource name: /foo
at org.eclipse.core.runtime.Assert.isLegal(Assert.java:64)
at org.eclipse.core.internal.resources.Workspace.newResource(Workspace.java:1628)
at org.eclipse.core.internal.resources.Container.getFolder(Container.java:137)
at scala.tools.eclipse.ScalaPlugin$$class.resolve(ScalaPlugin.scala:84)
at scala.tools.eclipse.Driver.resolve(Driver.scala:13)
at scala.tools.eclipse.ScalaPlugin$$ProjectImpl$$$$anonfun$$intializePaths$$1$$$$anonfun$$apply$$5$$$$anonfun$$6.apply(ScalaPlugin.scala:299)
at scala.tools.eclipse.ScalaPlugin$$ProjectImpl$$$$anonfun$$intializePaths$$1$$$$anonfun$$apply$$5$$$$anonfun$$6.apply(ScalaPlugin.scala:299)
at scala.Option.map(Option.scala:70)
at scala.tools.eclipse.ScalaPlugin$$ProjectImpl$$$$anonfun$$intializePaths$$1$$$$anonfun$$apply$$5.apply(ScalaPlugin.scala:299)
at scala.tools.eclipse.ScalaPlugin$$ProjectImpl$$$$anonfun$$intializePaths$$1$$$$anonfun$$apply$$5.apply(ScalaPlugin.scala:278)
at lampion.eclipse.Plugin$$class.check(Plugin.scala:289)
at scala.tools.eclipse.Driver.check(Driver.scala:13)
at scala.tools.eclipse.ScalaPlugin$$ProjectImpl$$$$anonfun$$intializePaths$$1.apply(ScalaPlugin.scala:278)
at scala.tools.eclipse.ScalaPlugin$$ProjectImpl$$$$anonfun$$intializePaths$$1.apply(ScalaPlugin.scala:278)
at scala.Iterator$$class.foreach(Iterator.scala:410)
at scala.runtime.BoxedArray$$AnyIterator.foreach(BoxedArray.scala:45)
at scala.Iterable$$class.foreach(Iterable.scala:256)
at scala.runtime.BoxedArray.foreach(BoxedArray.scala:24)
at scala.tools.eclipse.ScalaPlugin$$ProjectImpl$$class.intializePaths(ScalaPlugin.scala:278)
at scala.tools.eclipse.Driver$$Project.scala$$tools$$eclipse$$net$$ScalaMSILPlugin$$ProjectImpl$$$$super$$intializePaths(Driver.scala:16)
at scala.tools.eclipse.net.ScalaMSILPlugin$$ProjectImpl$$class.intializePaths(ScalaMSILPlugin.scala:74)
at scala.tools.eclipse.Driver$$Project.intializePaths(Driver.scala:16)
at scala.tools.eclipse.ScalaPlugin$$ProjectImpl$$class.initialize(ScalaPlugin.scala:271)
at scala.tools.eclipse.Driver$$Project.initialize(Driver.scala:16)
at scala.tools.eclipse.ScalaPlugin$$ProjectImpl$$compiler0$$.<init>(ScalaPlugin.scala:168)
at scala.tools.eclipse.Driver$$Project.compiler0(Driver.scala:16)
at scala.tools.eclipse.javaelements.ScalaCompilationUnit.<init>(ScalaCompilationUnit.scala:31)
at scala.tools.eclipse.javaelements.ScalaCompilationUnit.<init>(ScalaCompilationUnit.scala:35)
at scala.tools.eclipse.javaelements.ScalaCompilationUnitManager$$$$anonfun$$scala$$tools$$eclipse$$javaelements$$ScalaCompilationUnitManager$$$$createCU$$1.apply(ScalaCompilationUnitManager.scala:145)
at scala.tools.eclipse.javaelements.ScalaCompilationUnitManager$$$$anonfun$$scala$$tools$$eclipse$$javaelements$$ScalaCompilationUnitManager$$$$createCU$$1.apply(ScalaCompilationUnitManager.scala:144)
at scala.tools.eclipse.ContentTypeUtils$$.withoutJavaLikeExtension(ContentTypeUtils.scala:54)
at scala.tools.eclipse.javaelements.ScalaCompilationUnitManager$$.scala$$tools$$eclipse$$javaelements$$ScalaCompilationUnitManager$$$$createCU(ScalaCompilationUnitManager.scala:144)
at scala.tools.eclipse.javaelements.ScalaCompilationUnitManager$$.getScalaCompilationUnit(ScalaCompilationUnitManager.scala:59)
at scala.tools.eclipse.ScalaUIPlugin$$$$anon$$2.visit(ScalaUIPlugin.scala:76)
at org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.java:68)
at org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.java:79)
at org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.java:79)
at org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.java:79)
at org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.java:79)
at org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.java:79)
at org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.java:48)
at scala.tools.eclipse.ScalaUIPlugin$$class.resourceChanged(ScalaUIPlugin.scala:69)
at scala.tools.eclipse.Driver.resourceChanged(Driver.scala:13)
at org.eclipse.core.internal.events.NotificationManager$$2.run(NotificationManager.java:288)
at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)
at org.eclipse.core.internal.events.NotificationManager.notify(NotificationManager.java:282)
at org.eclipse.core.internal.events.NotificationManager.broadcastChanges(NotificationManager.java:148)
at org.eclipse.core.internal.resources.Workspace.broadcastPostChange(Workspace.java:313)
at org.eclipse.core.internal.resources.Workspace.endOperation(Workspace.java:1022)
at org.eclipse.core.internal.resources.InternalWorkspaceJob.run(InternalWorkspaceJob.java:45)
at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)

