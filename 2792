In both versions of A, use an intermediate type `T2`:
{code}
  type T2 = T
  def x: T2
{code}
and change `T` as before.  This doesn't recompile B.scala.

Using r20728.
