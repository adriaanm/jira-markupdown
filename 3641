My workaround is this, but the idea that the previous code failed in the first place but worked in the second still seems like a problem.


{code}
import javax.servlet.http._

class ScalaServlet extends HttpServlet
{
    val initParameters =
        {
        var parms = Map[String,String]().withDefaultValue("")
        val names = getInitParameterNames.asInstanceOf[java.util.Enumeration[String]]
        while (names.hasMoreElements)
            {
            val name = names.nextElement
            parms += name -> getInitParameter(name)
            }  
        parms      
        }


    private def doService(req: HttpServletRequest, resp: HttpServletResponse) =
        {
        var params = Map[String,String]().withDefaultValue("")
        val names = req.getParameterNames.asInstanceOf[java.util.Enumeration[String]]
        while (names.hasMoreElements)
            {
            val name = names.nextElement
            params += name -> req.getParameter(name)
            }
        }
}


{code}
